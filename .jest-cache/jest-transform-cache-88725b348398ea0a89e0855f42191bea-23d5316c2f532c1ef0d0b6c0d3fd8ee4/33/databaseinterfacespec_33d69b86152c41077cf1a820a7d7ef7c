29ded725d388f9cfdd3fcc873253786c
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/// <reference types="jest" />
/* eslint-env jest */
const globals_1 = require("@jest/globals");
(0, globals_1.describe)('Database Interfaces', () => {
    (0, globals_1.describe)('DatabaseConnection', () => {
        (0, globals_1.it)('应该定义正确的连接状态类型', () => {
            const validStatuses = [
                'connected',
                'disconnected',
                'connecting',
                'error',
            ];
            validStatuses.forEach(status => {
                (0, globals_1.expect)(typeof status).toBe('string');
            });
        });
        (0, globals_1.it)('应该包含所有必需的属性', () => {
            const connection = {
                id: 'test-connection-id',
                status: 'connected',
                config: {
                    type: 'postgresql',
                    host: 'localhost',
                    port: 5432,
                    username: 'test',
                    password: 'test',
                    database: 'test',
                },
                instance: {},
                lastActivity: new Date(),
            };
            (0, globals_1.expect)(connection.id).toBeDefined();
            (0, globals_1.expect)(connection.status).toBeDefined();
            (0, globals_1.expect)(connection.config).toBeDefined();
            (0, globals_1.expect)(connection.instance).toBeDefined();
            (0, globals_1.expect)(connection.lastActivity).toBeDefined();
        });
        (0, globals_1.it)('应该支持可选的错误属性', () => {
            const connectionWithError = {
                id: 'test-connection-id',
                status: 'error',
                config: {
                    type: 'postgresql',
                    host: 'localhost',
                    port: 5432,
                    username: 'test',
                    password: 'test',
                    database: 'test',
                },
                instance: {},
                lastActivity: new Date(),
                error: 'Connection failed',
            };
            (0, globals_1.expect)(connectionWithError.error).toBe('Connection failed');
        });
    });
    (0, globals_1.describe)('DatabaseConfig', () => {
        (0, globals_1.it)('应该支持所有数据库类型', () => {
            const validTypes = [
                'postgresql',
                'mysql',
                'mongodb',
            ];
            validTypes.forEach(type => {
                (0, globals_1.expect)(typeof type).toBe('string');
            });
        });
        (0, globals_1.it)('应该包含所有必需的配置属性', () => {
            const config = {
                type: 'postgresql',
                host: 'localhost',
                port: 5432,
                username: 'test',
                password: 'test',
                database: 'test',
            };
            (0, globals_1.expect)(config.type).toBeDefined();
            (0, globals_1.expect)(config.host).toBeDefined();
            (0, globals_1.expect)(config.port).toBeDefined();
            (0, globals_1.expect)(config.username).toBeDefined();
            (0, globals_1.expect)(config.password).toBeDefined();
            (0, globals_1.expect)(config.database).toBeDefined();
        });
        (0, globals_1.it)('应该支持可选的配置属性', () => {
            const configWithOptions = {
                type: 'postgresql',
                host: 'localhost',
                port: 5432,
                username: 'test',
                password: 'test',
                database: 'test',
                schema: 'public',
                ssl: { rejectUnauthorized: false },
                pool: {
                    min: 2,
                    max: 10,
                    acquireTimeoutMillis: 60000,
                    createTimeoutMillis: 30000,
                    destroyTimeoutMillis: 5000,
                    idleTimeoutMillis: 30000,
                    reapIntervalMillis: 1000,
                    createRetryIntervalMillis: 200,
                },
                options: {
                    application_name: 'test-app',
                },
            };
            (0, globals_1.expect)(configWithOptions.schema).toBe('public');
            (0, globals_1.expect)(configWithOptions.ssl).toBeDefined();
            (0, globals_1.expect)(configWithOptions.pool).toBeDefined();
            (0, globals_1.expect)(configWithOptions.options).toBeDefined();
        });
    });
    (0, globals_1.describe)('DatabaseHealth', () => {
        (0, globals_1.it)('应该包含所有健康检查属性', () => {
            const health = {
                healthy: true,
                connected: true,
                responseTime: 15,
                lastCheck: new Date(),
                poolStatus: {
                    total: 10,
                    idle: 8,
                    active: 2,
                    waiting: 0,
                },
            };
            (0, globals_1.expect)(health.healthy).toBeDefined();
            (0, globals_1.expect)(health.connected).toBeDefined();
            (0, globals_1.expect)(health.responseTime).toBeDefined();
            (0, globals_1.expect)(health.lastCheck).toBeDefined();
            (0, globals_1.expect)(health.poolStatus).toBeDefined();
        });
        (0, globals_1.it)('应该支持可选的错误属性', () => {
            const healthWithError = {
                healthy: false,
                connected: false,
                responseTime: 0,
                lastCheck: new Date(),
                error: 'Connection timeout',
            };
            (0, globals_1.expect)(healthWithError.error).toBe('Connection timeout');
        });
    });
    (0, globals_1.describe)('DatabaseStats', () => {
        (0, globals_1.it)('应该包含所有统计属性', () => {
            const stats = {
                totalQueries: 1000,
                successfulQueries: 950,
                failedQueries: 50,
                averageResponseTime: 45,
                maxResponseTime: 200,
                minResponseTime: 5,
                activeConnections: 25,
                idleConnections: 75,
                lastReset: new Date(),
            };
            (0, globals_1.expect)(stats.totalQueries).toBeDefined();
            (0, globals_1.expect)(stats.successfulQueries).toBeDefined();
            (0, globals_1.expect)(stats.failedQueries).toBeDefined();
            (0, globals_1.expect)(stats.averageResponseTime).toBeDefined();
            (0, globals_1.expect)(stats.maxResponseTime).toBeDefined();
            (0, globals_1.expect)(stats.minResponseTime).toBeDefined();
            (0, globals_1.expect)(stats.activeConnections).toBeDefined();
            (0, globals_1.expect)(stats.idleConnections).toBeDefined();
            (0, globals_1.expect)(stats.lastReset).toBeDefined();
        });
    });
    (0, globals_1.describe)('QueryOptions', () => {
        (0, globals_1.it)('应该支持所有查询选项', () => {
            const options = {
                timeout: 30000,
                transaction: true,
                params: ['param1', 'param2'],
                tag: 'test-query',
                logQuery: true,
            };
            (0, globals_1.expect)(options.timeout).toBeDefined();
            (0, globals_1.expect)(options.transaction).toBeDefined();
            (0, globals_1.expect)(options.params).toBeDefined();
            (0, globals_1.expect)(options.tag).toBeDefined();
            (0, globals_1.expect)(options.logQuery).toBeDefined();
        });
    });
    (0, globals_1.describe)('TransactionOptions', () => {
        (0, globals_1.it)('应该支持所有事务选项', () => {
            const options = {
                isolationLevel: 'read committed',
                timeout: 60000,
                readOnly: false,
                tag: 'test-transaction',
            };
            (0, globals_1.expect)(options.isolationLevel).toBeDefined();
            (0, globals_1.expect)(options.timeout).toBeDefined();
            (0, globals_1.expect)(options.readOnly).toBeDefined();
            (0, globals_1.expect)(options.tag).toBeDefined();
        });
    });
    (0, globals_1.describe)('IDatabaseAdapter', () => {
        (0, globals_1.it)('应该定义所有必需的适配器方法', () => {
            // 这是一个类型检查测试，确保接口定义了所有必需的方法
            const adapter = {
                name: 'test-adapter',
                type: 'postgresql',
                eventEmitter: {},
                config: {},
                isConnected: true,
                connect: globals_1.jest.fn(),
                disconnect: globals_1.jest.fn(),
                query: globals_1.jest.fn(),
                execute: globals_1.jest.fn(),
                transaction: globals_1.jest.fn(),
                getHealth: globals_1.jest.fn(),
                getStats: globals_1.jest.fn(),
                getConnection: globals_1.jest.fn(),
                ping: globals_1.jest.fn(),
                resetStats: globals_1.jest.fn(),
            };
            (0, globals_1.expect)(adapter.name).toBeDefined();
            (0, globals_1.expect)(adapter.type).toBeDefined();
            (0, globals_1.expect)(adapter.isConnected).toBeDefined();
            (0, globals_1.expect)(typeof adapter.connect).toBe('function');
            (0, globals_1.expect)(typeof adapter.disconnect).toBe('function');
            (0, globals_1.expect)(typeof adapter.query).toBe('function');
            (0, globals_1.expect)(typeof adapter.execute).toBe('function');
            (0, globals_1.expect)(typeof adapter.transaction).toBe('function');
            (0, globals_1.expect)(typeof adapter.getHealth).toBe('function');
            (0, globals_1.expect)(typeof adapter.getStats).toBe('function');
            (0, globals_1.expect)(typeof adapter.getConnection).toBe('function');
            (0, globals_1.expect)(typeof adapter.ping).toBe('function');
            (0, globals_1.expect)(typeof adapter.resetStats).toBe('function');
        });
    });
    (0, globals_1.describe)('IDatabaseManager', () => {
        (0, globals_1.it)('应该定义所有必需的管理器方法', () => {
            // 这是一个类型检查测试，确保接口定义了所有必需的方法
            const manager = {
                name: 'test-manager',
                adapterCount: 0,
                isInitialized: false,
                addAdapter: globals_1.jest.fn(),
                removeAdapter: globals_1.jest.fn(),
                getAdapter: globals_1.jest.fn(),
                getDefaultAdapter: globals_1.jest.fn(),
                connectAll: globals_1.jest.fn(),
                disconnectAll: globals_1.jest.fn(),
                getHealth: globals_1.jest.fn(),
                getStats: globals_1.jest.fn(),
            };
            (0, globals_1.expect)(manager.name).toBeDefined();
            (0, globals_1.expect)(manager.adapterCount).toBeDefined();
            (0, globals_1.expect)(manager.isInitialized).toBeDefined();
            (0, globals_1.expect)(typeof manager.addAdapter).toBe('function');
            (0, globals_1.expect)(typeof manager.removeAdapter).toBe('function');
            (0, globals_1.expect)(typeof manager.getAdapter).toBe('function');
            (0, globals_1.expect)(typeof manager.getDefaultAdapter).toBe('function');
            (0, globals_1.expect)(typeof manager.connectAll).toBe('function');
            (0, globals_1.expect)(typeof manager.disconnectAll).toBe('function');
            (0, globals_1.expect)(typeof manager.getHealth).toBe('function');
            (0, globals_1.expect)(typeof manager.getStats).toBe('function');
        });
    });
    (0, globals_1.describe)('IDatabaseFactory', () => {
        (0, globals_1.it)('应该定义所有必需的工厂方法', () => {
            // 这是一个类型检查测试，确保接口定义了所有必需的方法
            const factory = {
                createAdapter: globals_1.jest.fn(),
                createManager: globals_1.jest.fn(),
                validateConfig: globals_1.jest.fn(),
            };
            (0, globals_1.expect)(typeof factory.createAdapter).toBe('function');
            (0, globals_1.expect)(typeof factory.createManager).toBe('function');
            (0, globals_1.expect)(typeof factory.validateConfig).toBe('function');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvYXJsaWdsZS9WMS9BaW9maXgvYWlvZml4LWFpLXNhYXMtcGxhdGZvcm0vcGFja2FnZXMvZGF0YWJhc2Uvc3JjL2ludGVyZmFjZXMvZGF0YWJhc2UuaW50ZXJmYWNlLnNwZWMudHMiLCJtYXBwaW5ncyI6Ijs7QUFBQSw4QkFBOEI7QUFDOUIscUJBQXFCO0FBQ3JCLDJDQUEyRDtBQW9CM0QsSUFBQSxrQkFBUSxFQUFDLHFCQUFxQixFQUFFLEdBQUcsRUFBRTtJQUNuQyxJQUFBLGtCQUFRLEVBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO1FBQ2xDLElBQUEsWUFBRSxFQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUU7WUFDdkIsTUFBTSxhQUFhLEdBQW1DO2dCQUNwRCxXQUFXO2dCQUNYLGNBQWM7Z0JBQ2QsWUFBWTtnQkFDWixPQUFPO2FBQ1IsQ0FBQztZQUVGLGFBQWEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7Z0JBQzdCLElBQUEsZ0JBQU0sRUFBQyxPQUFPLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN2QyxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBQSxZQUFFLEVBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtZQUNyQixNQUFNLFVBQVUsR0FBdUI7Z0JBQ3JDLEVBQUUsRUFBRSxvQkFBb0I7Z0JBQ3hCLE1BQU0sRUFBRSxXQUFXO2dCQUNuQixNQUFNLEVBQUU7b0JBQ04sSUFBSSxFQUFFLFlBQVk7b0JBQ2xCLElBQUksRUFBRSxXQUFXO29CQUNqQixJQUFJLEVBQUUsSUFBSTtvQkFDVixRQUFRLEVBQUUsTUFBTTtvQkFDaEIsUUFBUSxFQUFFLE1BQU07b0JBQ2hCLFFBQVEsRUFBRSxNQUFNO2lCQUNqQjtnQkFDRCxRQUFRLEVBQUUsRUFBYTtnQkFDdkIsWUFBWSxFQUFFLElBQUksSUFBSSxFQUFFO2FBQ3pCLENBQUM7WUFFRixJQUFBLGdCQUFNLEVBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFdB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b3JtL3BhY2thZ2VzL2RhdGFiYXNlL3NyYy9pbnRlcmZhY2VzL2RhdGFiYXNlLmludGVyZmFjZS5zcGVjLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwiamVzdFwiIC8+XG4vKiBlc2xpbnQtZW52IGplc3QgKi9cbmltcG9ydCB7IGRlc2NyaWJlLCBpdCwgZXhwZWN0LCBqZXN0IH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XG4vKipcbiAqIEBmaWxlIGRhdGFiYXNlLmludGVyZmFjZS5zcGVjLnRzXG4gKiBAZGVzY3JpcHRpb24g5pWw5o2u5bqT5o6l5Y+j5Y2V5YWD5rWL6K+VXG4gKlxuICog5rWL6K+V5pWw5o2u5bqT5o6l5Y+j55qE57G75Z6L5a6a5LmJ44CB57uT5p6E6aqM6K+B5ZKM5o6l5Y+j5LiA6Ie05oCn44CCXG4gKi9cblxuaW1wb3J0IHR5cGUge1xuICBEYXRhYmFzZUNvbm5lY3Rpb24sXG4gIERhdGFiYXNlQ29uZmlnLFxuICBEYXRhYmFzZUhlYWx0aCxcbiAgRGF0YWJhc2VTdGF0cyxcbiAgUXVlcnlPcHRpb25zLFxuICBUcmFuc2FjdGlvbk9wdGlvbnMsXG4gIElEYXRhYmFzZUFkYXB0ZXIsXG4gIElEYXRhYmFzZU1hbmFnZXIsXG4gIElEYXRhYmFzZUZhY3RvcnksXG59IGZyb20gJy4vZGF0YWJhc2UuaW50ZXJmYWNlJztcblxuZGVzY3JpYmUoJ0RhdGFiYXNlIEludGVyZmFjZXMnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdEYXRhYmFzZUNvbm5lY3Rpb24nLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpeWumuS5ieato+ehrueahOi/nuaOpeeKtuaAgeexu+WeiycsICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkU3RhdHVzZXM6IERhdGFiYXNlQ29ubmVjdGlvblsnc3RhdHVzJ11bXSA9IFtcbiAgICAgICAgJ2Nvbm5lY3RlZCcsXG4gICAgICAgICdkaXNjb25uZWN0ZWQnLFxuICAgICAgICAnY29ubmVjdGluZycsXG4gICAgICAgICdlcnJvcicsXG4gICAgICBdO1xuXG4gICAgICB2YWxpZFN0YXR1c2VzLmZvckVhY2goc3RhdHVzID0+IHtcbiAgICAgICAgZXhwZWN0KHR5cGVvZiBzdGF0dXMpLnRvQmUoJ3N0cmluZycpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5YyF5ZCr5omA5pyJ5b+F6ZyA55qE5bGe5oCnJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29ubmVjdGlvbjogRGF0YWJhc2VDb25uZWN0aW9uID0ge1xuICAgICAgICBpZDogJ3Rlc3QtY29ubmVjdGlvbi1pZCcsXG4gICAgICAgIHN0YXR1czogJ2Nvbm5lY3RlZCcsXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdwb3N0Z3Jlc3FsJyxcbiAgICAgICAgICBob3N0OiAnbG9jYWxob3N0JyxcbiAgICAgICAgICBwb3J0OiA1NDMyLFxuICAgICAgICAgIHVzZXJuYW1lOiAndGVzdCcsXG4gICAgICAgICAgcGFzc3dvcmQ6ICd0ZXN0JyxcbiAgICAgICAgICBkYXRhYmFzZTogJ3Rlc3QnLFxuICAgICAgICB9LFxuICAgICAgICBpbnN0YW5jZToge30gYXMgdW5rbm93bixcbiAgICAgICAgbGFzdEFjdGl2aXR5OiBuZXcgRGF0ZSgpLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KGNvbm5lY3Rpb24uaWQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoY29ubmVjdGlvbi5zdGF0dXMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoY29ubmVjdGlvbi5jb25maWcpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoY29ubmVjdGlvbi5pbnN0YW5jZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjb25uZWN0aW9uLmxhc3RBY3Rpdml0eSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6XmlK/mjIHlj6/pgInnmoTplJnor6/lsZ7mgKcnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uV2l0aEVycm9yOiBEYXRhYmFzZUNvbm5lY3Rpb24gPSB7XG4gICAgICAgIGlkOiAndGVzdC1jb25uZWN0aW9uLWlkJyxcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICB0eXBlOiAncG9zdGdyZXNxbCcsXG4gICAgICAgICAgaG9zdDogJ2xvY2FsaG9zdCcsXG4gICAgICAgICAgcG9ydDogNTQzMixcbiAgICAgICAgICB1c2VybmFtZTogJ3Rlc3QnLFxuICAgICAgICAgIHBhc3N3b3JkOiAndGVzdCcsXG4gICAgICAgICAgZGF0YWJhc2U6ICd0ZXN0JyxcbiAgICAgICAgfSxcbiAgICAgICAgaW5zdGFuY2U6IHt9IGFzIHVua25vd24sXG4gICAgICAgIGxhc3RBY3Rpdml0eTogbmV3IERhdGUoKSxcbiAgICAgICAgZXJyb3I6ICdDb25uZWN0aW9uIGZhaWxlZCcsXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QoY29ubmVjdGlvbldpdGhFcnJvci5lcnJvcikudG9CZSgnQ29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RhdGFiYXNlQ29uZmlnJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XmlK/mjIHmiYDmnInmlbDmja7lupPnsbvlnosnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFR5cGVzOiBEYXRhYmFzZUNvbmZpZ1sndHlwZSddW10gPSBbXG4gICAgICAgICdwb3N0Z3Jlc3FsJyxcbiAgICAgICAgJ215c3FsJyxcbiAgICAgICAgJ21vbmdvZGInLFxuICAgICAgXTtcblxuICAgICAgdmFsaWRUeXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgICBleHBlY3QodHlwZW9mIHR5cGUpLnRvQmUoJ3N0cmluZycpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5YyF5ZCr5omA5pyJ5b+F6ZyA55qE6YWN572u5bGe5oCnJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBEYXRhYmFzZUNvbmZpZyA9IHtcbiAgICAgICAgdHlwZTogJ3Bvc3RncmVzcWwnLFxuICAgICAgICBob3N0OiAnbG9jYWxob3N0JyxcbiAgICAgICAgcG9ydDogNTQzMixcbiAgICAgICAgdXNlcm5hbWU6ICd0ZXN0JyxcbiAgICAgICAgcGFzc3dvcmQ6ICd0ZXN0JyxcbiAgICAgICAgZGF0YWJhc2U6ICd0ZXN0JyxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChjb25maWcudHlwZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjb25maWcuaG9zdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjb25maWcucG9ydCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjb25maWcudXNlcm5hbWUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoY29uZmlnLnBhc3N3b3JkKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGNvbmZpZy5kYXRhYmFzZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6XmlK/mjIHlj6/pgInnmoTphY3nva7lsZ7mgKcnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWdXaXRoT3B0aW9uczogRGF0YWJhc2VDb25maWcgPSB7XG4gICAgICAgIHR5cGU6ICdwb3N0Z3Jlc3FsJyxcbiAgICAgICAgaG9zdDogJ2xvY2FsaG9zdCcsXG4gICAgICAgIHBvcnQ6IDU0MzIsXG4gICAgICAgIHVzZXJuYW1lOiAndGVzdCcsXG4gICAgICAgIHBhc3N3b3JkOiAndGVzdCcsXG4gICAgICAgIGRhdGFiYXNlOiAndGVzdCcsXG4gICAgICAgIHNjaGVtYTogJ3B1YmxpYycsXG4gICAgICAgIHNzbDogeyByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlIH0sXG4gICAgICAgIHBvb2w6IHtcbiAgICAgICAgICBtaW46IDIsXG4gICAgICAgICAgbWF4OiAxMCxcbiAgICAgICAgICBhY3F1aXJlVGltZW91dE1pbGxpczogNjAwMDAsXG4gICAgICAgICAgY3JlYXRlVGltZW91dE1pbGxpczogMzAwMDAsXG4gICAgICAgICAgZGVzdHJveVRpbWVvdXRNaWxsaXM6IDUwMDAsXG4gICAgICAgICAgaWRsZVRpbWVvdXRNaWxsaXM6IDMwMDAwLFxuICAgICAgICAgIHJlYXBJbnRlcnZhbE1pbGxpczogMTAwMCxcbiAgICAgICAgICBjcmVhdGVSZXRyeUludGVydmFsTWlsbGlzOiAyMDAsXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBhcHBsaWNhdGlvbl9uYW1lOiAndGVzdC1hcHAnLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KGNvbmZpZ1dpdGhPcHRpb25zLnNjaGVtYSkudG9CZSgncHVibGljJyk7XG4gICAgICBleHBlY3QoY29uZmlnV2l0aE9wdGlvbnMuc3NsKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGNvbmZpZ1dpdGhPcHRpb25zLnBvb2wpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoY29uZmlnV2l0aE9wdGlvbnMub3B0aW9ucykudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RhdGFiYXNlSGVhbHRoJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XljIXlkKvmiYDmnInlgaXlurfmo4Dmn6XlsZ7mgKcnLCAoKSA9PiB7XG4gICAgICBjb25zdCBoZWFsdGg6IERhdGFiYXNlSGVhbHRoID0ge1xuICAgICAgICBoZWFsdGh5OiB0cnVlLFxuICAgICAgICBjb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgIHJlc3BvbnNlVGltZTogMTUsXG4gICAgICAgIGxhc3RDaGVjazogbmV3IERhdGUoKSxcbiAgICAgICAgcG9vbFN0YXR1czoge1xuICAgICAgICAgIHRvdGFsOiAxMCxcbiAgICAgICAgICBpZGxlOiA4LFxuICAgICAgICAgIGFjdGl2ZTogMixcbiAgICAgICAgICB3YWl0aW5nOiAwLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KGhlYWx0aC5oZWFsdGh5KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGhlYWx0aC5jb25uZWN0ZWQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoaGVhbHRoLnJlc3BvbnNlVGltZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChoZWFsdGgubGFzdENoZWNrKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGhlYWx0aC5wb29sU3RhdHVzKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeaUr+aMgeWPr+mAieeahOmUmeivr+WxnuaApycsICgpID0+IHtcbiAgICAgIGNvbnN0IGhlYWx0aFdpdGhFcnJvcjogRGF0YWJhc2VIZWFsdGggPSB7XG4gICAgICAgIGhlYWx0aHk6IGZhbHNlLFxuICAgICAgICBjb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICByZXNwb25zZVRpbWU6IDAsXG4gICAgICAgIGxhc3RDaGVjazogbmV3IERhdGUoKSxcbiAgICAgICAgZXJyb3I6ICdDb25uZWN0aW9uIHRpbWVvdXQnLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KGhlYWx0aFdpdGhFcnJvci5lcnJvcikudG9CZSgnQ29ubmVjdGlvbiB0aW1lb3V0Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEYXRhYmFzZVN0YXRzJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XljIXlkKvmiYDmnInnu5/orqHlsZ7mgKcnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0czogRGF0YWJhc2VTdGF0cyA9IHtcbiAgICAgICAgdG90YWxRdWVyaWVzOiAxMDAwLFxuICAgICAgICBzdWNjZXNzZnVsUXVlcmllczogOTUwLFxuICAgICAgICBmYWlsZWRRdWVyaWVzOiA1MCxcbiAgICAgICAgYXZlcmFnZVJlc3BvbnNlVGltZTogNDUsXG4gICAgICAgIG1heFJlc3BvbnNlVGltZTogMjAwLFxuICAgICAgICBtaW5SZXNwb25zZVRpbWU6IDUsXG4gICAgICAgIGFjdGl2ZUNvbm5lY3Rpb25zOiAyNSxcbiAgICAgICAgaWRsZUNvbm5lY3Rpb25zOiA3NSxcbiAgICAgICAgbGFzdFJlc2V0OiBuZXcgRGF0ZSgpLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KHN0YXRzLnRvdGFsUXVlcmllcykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzdGF0cy5zdWNjZXNzZnVsUXVlcmllcykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzdGF0cy5mYWlsZWRRdWVyaWVzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHN0YXRzLmF2ZXJhZ2VSZXNwb25zZVRpbWUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc3RhdHMubWF4UmVzcG9uc2VUaW1lKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHN0YXRzLm1pblJlc3BvbnNlVGltZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzdGF0cy5hY3RpdmVDb25uZWN0aW9ucykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzdGF0cy5pZGxlQ29ubmVjdGlvbnMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc3RhdHMubGFzdFJlc2V0KS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUXVlcnlPcHRpb25zJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XmlK/mjIHmiYDmnInmn6Xor6LpgInpobknLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zOiBRdWVyeU9wdGlvbnMgPSB7XG4gICAgICAgIHRpbWVvdXQ6IDMwMDAwLFxuICAgICAgICB0cmFuc2FjdGlvbjogdHJ1ZSxcbiAgICAgICAgcGFyYW1zOiBbJ3BhcmFtMScsICdwYXJhbTInXSxcbiAgICAgICAgdGFnOiAndGVzdC1xdWVyeScsXG4gICAgICAgIGxvZ1F1ZXJ5OiB0cnVlLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KG9wdGlvbnMudGltZW91dCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChvcHRpb25zLnRyYW5zYWN0aW9uKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KG9wdGlvbnMucGFyYW1zKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KG9wdGlvbnMudGFnKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KG9wdGlvbnMubG9nUXVlcnkpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUcmFuc2FjdGlvbk9wdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpeaUr+aMgeaJgOacieS6i+WKoemAiemhuScsICgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnM6IFRyYW5zYWN0aW9uT3B0aW9ucyA9IHtcbiAgICAgICAgaXNvbGF0aW9uTGV2ZWw6ICdyZWFkIGNvbW1pdHRlZCcsXG4gICAgICAgIHRpbWVvdXQ6IDYwMDAwLFxuICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgIHRhZzogJ3Rlc3QtdHJhbnNhY3Rpb24nLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KG9wdGlvbnMuaXNvbGF0aW9uTGV2ZWwpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qob3B0aW9ucy50aW1lb3V0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KG9wdGlvbnMucmVhZE9ubHkpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qob3B0aW9ucy50YWcpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdJRGF0YWJhc2VBZGFwdGVyJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XlrprkuYnmiYDmnInlv4XpnIDnmoTpgILphY3lmajmlrnms5UnLCAoKSA9PiB7XG4gICAgICAvLyDov5nmmK/kuIDkuKrnsbvlnovmo4Dmn6XmtYvor5XvvIznoa7kv53mjqXlj6PlrprkuYnkuobmiYDmnInlv4XpnIDnmoTmlrnms5VcbiAgICAgIGNvbnN0IGFkYXB0ZXI6IElEYXRhYmFzZUFkYXB0ZXIgPSB7XG4gICAgICAgIG5hbWU6ICd0ZXN0LWFkYXB0ZXInLFxuICAgICAgICB0eXBlOiAncG9zdGdyZXNxbCcsXG4gICAgICAgIGV2ZW50RW1pdHRlcjoge30gYXMgdW5rbm93bixcbiAgICAgICAgY29uZmlnOiB7fSBhcyB1bmtub3duLFxuICAgICAgICBpc0Nvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgY29ubmVjdDogamVzdC5mbigpIGFzIHVua25vd24sXG4gICAgICAgIGRpc2Nvbm5lY3Q6IGplc3QuZm4oKSBhcyB1bmtub3duLFxuICAgICAgICBxdWVyeTogamVzdC5mbigpIGFzIHVua25vd24sXG4gICAgICAgIGV4ZWN1dGU6IGplc3QuZm4oKSBhcyB1bmtub3duLFxuICAgICAgICB0cmFuc2FjdGlvbjogamVzdC5mbigpIGFzIHVua25vd24sXG4gICAgICAgIGdldEhlYWx0aDogamVzdC5mbigpIGFzIHVua25vd24sXG4gICAgICAgIGdldFN0YXRzOiBqZXN0LmZuKCkgYXMgdW5rbm93bixcbiAgICAgICAgZ2V0Q29ubmVjdGlvbjogamVzdC5mbigpIGFzIHVua25vd24sXG4gICAgICAgIHBpbmc6IGplc3QuZm4oKSBhcyB1bmtub3duLFxuICAgICAgICByZXNldFN0YXRzOiBqZXN0LmZuKCkgYXMgdW5rbm93bixcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChhZGFwdGVyLm5hbWUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoYWRhcHRlci50eXBlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGFkYXB0ZXIuaXNDb25uZWN0ZWQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodHlwZW9mIGFkYXB0ZXIuY29ubmVjdCkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgYWRhcHRlci5kaXNjb25uZWN0KS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBhZGFwdGVyLnF1ZXJ5KS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBhZGFwdGVyLmV4ZWN1dGUpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIGFkYXB0ZXIudHJhbnNhY3Rpb24pLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIGFkYXB0ZXIuZ2V0SGVhbHRoKS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBhZGFwdGVyLmdldFN0YXRzKS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBhZGFwdGVyLmdldENvbm5lY3Rpb24pLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIGFkYXB0ZXIucGluZykudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgYWRhcHRlci5yZXNldFN0YXRzKS50b0JlKCdmdW5jdGlvbicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSURhdGFiYXNlTWFuYWdlcicsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5a6a5LmJ5omA5pyJ5b+F6ZyA55qE566h55CG5Zmo5pa55rOVJywgKCkgPT4ge1xuICAgICAgLy8g6L+Z5piv5LiA5Liq57G75Z6L5qOA5p+l5rWL6K+V77yM56Gu5L+d5o6l5Y+j5a6a5LmJ5LqG5omA5pyJ5b+F6ZyA55qE5pa55rOVXG4gICAgICBjb25zdCBtYW5hZ2VyOiBJRGF0YWJhc2VNYW5hZ2VyID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1tYW5hZ2VyJyxcbiAgICAgICAgYWRhcHRlckNvdW50OiAwLFxuICAgICAgICBpc0luaXRpYWxpemVkOiBmYWxzZSxcbiAgICAgICAgYWRkQWRhcHRlcjogamVzdC5mbigpIGFzIHVua25vd24sXG4gICAgICAgIHJlbW92ZUFkYXB0ZXI6IGplc3QuZm4oKSBhcyB1bmtub3duLFxuICAgICAgICBnZXRBZGFwdGVyOiBqZXN0LmZuKCkgYXMgdW5rbm93bixcbiAgICAgICAgZ2V0RGVmYXVsdEFkYXB0ZXI6IGplc3QuZm4oKSBhcyB1bmtub3duLFxuICAgICAgICBjb25uZWN0QWxsOiBqZXN0LmZuKCkgYXMgdW5rbm93bixcbiAgICAgICAgZGlzY29ubmVjdEFsbDogamVzdC5mbigpIGFzIHVua25vd24sXG4gICAgICAgIGdldEhlYWx0aDogamVzdC5mbigpIGFzIHVua25vd24sXG4gICAgICAgIGdldFN0YXRzOiBqZXN0LmZuKCkgYXMgdW5rbm93bixcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChtYW5hZ2VyLm5hbWUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QobWFuYWdlci5hZGFwdGVyQ291bnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QobWFuYWdlci5pc0luaXRpYWxpemVkKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBtYW5hZ2VyLmFkZEFkYXB0ZXIpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIG1hbmFnZXIucmVtb3ZlQWRhcHRlcikudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgbWFuYWdlci5nZXRBZGFwdGVyKS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBtYW5hZ2VyLmdldERlZmF1bHRBZGFwdGVyKS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBtYW5hZ2VyLmNvbm5lY3RBbGwpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIG1hbmFnZXIuZGlzY29ubmVjdEFsbCkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgbWFuYWdlci5nZXRIZWFsdGgpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIG1hbmFnZXIuZ2V0U3RhdHMpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdJRGF0YWJhc2VGYWN0b3J5JywgKCkgPT4ge1xuICAgIGl0KCflupTor6XlrprkuYnmiYDmnInlv4XpnIDnmoTlt6XljoLmlrnms5UnLCAoKSA9PiB7XG4gICAgICAvLyDov5nmmK/kuIDkuKrnsbvlnovmo4Dmn6XmtYvor5XvvIznoa7kv53mjqXlj6PlrprkuYnkuobmiYDmnInlv4XpnIDnmoTmlrnms5VcbiAgICAgIGNvbnN0IGZhY3Rvcnk6IElEYXRhYmFzZUZhY3RvcnkgPSB7XG4gICAgICAgIGNyZWF0ZUFkYXB0ZXI6IGplc3QuZm4oKSBhcyB1bmtub3duLFxuICAgICAgICBjcmVhdGVNYW5hZ2VyOiBqZXN0LmZuKCkgYXMgdW5rbm93bixcbiAgICAgICAgdmFsaWRhdGVDb25maWc6IGplc3QuZm4oKSBhcyB1bmtub3duLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KHR5cGVvZiBmYWN0b3J5LmNyZWF0ZUFkYXB0ZXIpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIGZhY3RvcnkuY3JlYXRlTWFuYWdlcikudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgZmFjdG9yeS52YWxpZGF0ZUNvbmZpZykudG9CZSgnZnVuY3Rpb24nKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==