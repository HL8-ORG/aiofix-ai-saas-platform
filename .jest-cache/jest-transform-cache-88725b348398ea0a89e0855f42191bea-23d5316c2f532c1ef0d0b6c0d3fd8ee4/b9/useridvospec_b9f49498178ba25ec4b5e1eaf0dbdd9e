82eff0363b227421367c9307d376a99e
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
const user_id_vo_1 = require("./user-id.vo");
(0, globals_1.describe)('UserId', () => {
    (0, globals_1.describe)('constructor', () => {
        (0, globals_1.it)('should create UserId with valid UUID', () => {
            const validUuid = '123e4567-e89b-12d3-a456-426614174000';
            const userId = new user_id_vo_1.UserId(validUuid);
            (0, globals_1.expect)(userId.toString()).toBe(validUuid);
        });
        (0, globals_1.it)('should throw InvalidUserIdError for empty string', () => {
            (0, globals_1.expect)(() => new user_id_vo_1.UserId('')).toThrow(user_id_vo_1.InvalidUserIdError);
            (0, globals_1.expect)(() => new user_id_vo_1.UserId('')).toThrow('User ID cannot be empty');
        });
        (0, globals_1.it)('should throw InvalidUserIdError for invalid UUID format', () => {
            (0, globals_1.expect)(() => new user_id_vo_1.UserId('invalid-uuid')).toThrow(user_id_vo_1.InvalidUserIdError);
            (0, globals_1.expect)(() => new user_id_vo_1.UserId('invalid-uuid')).toThrow('Invalid UUID format');
        });
        (0, globals_1.it)('should throw InvalidUserIdError for null or undefined', () => {
            (0, globals_1.expect)(() => new user_id_vo_1.UserId(null)).toThrow(user_id_vo_1.InvalidUserIdError);
            (0, globals_1.expect)(() => new user_id_vo_1.UserId(undefined)).toThrow(user_id_vo_1.InvalidUserIdError);
        });
    });
    (0, globals_1.describe)('generate', () => {
        (0, globals_1.it)('should generate valid UUID', () => {
            const userId = user_id_vo_1.UserId.generate();
            (0, globals_1.expect)(userId.toString()).toMatch(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i);
        });
        (0, globals_1.it)('should generate different UUIDs', () => {
            const userId1 = user_id_vo_1.UserId.generate();
            const userId2 = user_id_vo_1.UserId.generate();
            (0, globals_1.expect)(userId1.toString()).not.toBe(userId2.toString());
        });
    });
    (0, globals_1.describe)('fromString', () => {
        (0, globals_1.it)('should create UserId from valid string', () => {
            const validUuid = '123e4567-e89b-12d3-a456-426614174000';
            const userId = user_id_vo_1.UserId.fromString(validUuid);
            (0, globals_1.expect)(userId.toString()).toBe(validUuid);
        });
    });
    (0, globals_1.describe)('toString', () => {
        (0, globals_1.it)('should return string representation', () => {
            const validUuid = '123e4567-e89b-12d3-a456-426614174000';
            const userId = new user_id_vo_1.UserId(validUuid);
            (0, globals_1.expect)(userId.toString()).toBe(validUuid);
        });
    });
    (0, globals_1.describe)('equals', () => {
        (0, globals_1.it)('should return true for same UserId', () => {
            const validUuid = '123e4567-e89b-12d3-a456-426614174000';
            const userId1 = new user_id_vo_1.UserId(validUuid);
            const userId2 = new user_id_vo_1.UserId(validUuid);
            (0, globals_1.expect)(userId1.equals(userId2)).toBe(true);
        });
        (0, globals_1.it)('should return false for different UserIds', () => {
            const userId1 = user_id_vo_1.UserId.generate();
            const userId2 = user_id_vo_1.UserId.generate();
            (0, globals_1.expect)(userId1.equals(userId2)).toBe(false);
        });
        (0, globals_1.it)('should return false for null or undefined', () => {
            const userId = user_id_vo_1.UserId.generate();
            (0, globals_1.expect)(userId.equals(null)).toBe(false);
            (0, globals_1.expect)(userId.equals(undefined)).toBe(false);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvYXJsaWdsZS9WMS9BaW9maXgvYWlvZml4LWFpLXNhYXMtcGxhdGZvcm0vcGFja2FnZXMvdXNlci9zcmMvZG9tYWluL3ZhbHVlLW9iamVjdHMvdXNlci1pZC52by5zcGVjLnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsMkNBQXFEO0FBQ3JELDZDQUEwRDtBQUUxRCxJQUFBLGtCQUFRLEVBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtJQUN0QixJQUFBLGtCQUFRLEVBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtRQUMzQixJQUFBLFlBQUUsRUFBQyxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7WUFDOUMsTUFBTSxTQUFTLEdBQUcsc0NBQXNDLENBQUM7WUFDekQsTUFBTSxNQUFNLEdBQUcsSUFBSSxtQkFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBRXJDLElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDNUMsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFBLFlBQUUsRUFBQyxrREFBa0QsRUFBRSxHQUFHLEVBQUU7WUFDMUQsSUFBQSxnQkFBTSxFQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksbUJBQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQywrQkFBa0IsQ0FBQyxDQUFDO1lBQ3pELElBQUEsZ0JBQU0sRUFBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLG1CQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMseUJBQXlCLENBQUMsQ0FBQztRQUNsRSxDQUFDLENBQUMsQ0FBQztRQUVILElBQUEsWUFBRSxFQUFDLHlEQUF5RCxFQUFFLEdBQUcsRUFBRTtZQUNqRSxJQUFBLGdCQUFNLEVBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxtQkFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLCtCQUFrQixDQUFDLENBQUM7WUFDckUsSUFBQSxnQkFBTSxFQUFDLEdBQUcsRUFB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QUFBLFlBQUUsRUFBQywyQ0FBMkMsRUFBRSxHQUFHLEVBQUU7WUFDbkQsTUFBTSxPQUFPLEdBQUcsbUJBQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNsQyxNQUFNLE9BQU8sR0FBRyxtQkFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRWxDLElBQUEsZ0JBQU0sRUFBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzlDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBQSxZQUFFLEVBQUMsMkNBQTJDLEVBQUUsR0FBRyxFQUFFO1lBQ25ELE1BQU0sTUFBTSxHQUFHLG1CQUFNLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFakMsSUFBQSxnQkFBTSxFQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDL0MsSUFBQSxnQkFBTSxFQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBZ0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9hcmxpZ2xlL1YxL0Fpb2ZpeC9haW9maXgtYWktc2Fhcy1wbGF0Zm9ybS9wYWNrYWdlcy91c2VyL3NyYy9kb21haW4vdmFsdWUtb2JqZWN0cy91c2VyLWlkLnZvLnNwZWMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IFVzZXJJZCwgSW52YWxpZFVzZXJJZEVycm9yIH0gZnJvbSAnLi91c2VyLWlkLnZvJztcblxuZGVzY3JpYmUoJ1VzZXJJZCcsICgpID0+IHtcbiAgZGVzY3JpYmUoJ2NvbnN0cnVjdG9yJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIFVzZXJJZCB3aXRoIHZhbGlkIFVVSUQnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFV1aWQgPSAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJztcbiAgICAgIGNvbnN0IHVzZXJJZCA9IG5ldyBVc2VySWQodmFsaWRVdWlkKTtcblxuICAgICAgZXhwZWN0KHVzZXJJZC50b1N0cmluZygpKS50b0JlKHZhbGlkVXVpZCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IEludmFsaWRVc2VySWRFcnJvciBmb3IgZW1wdHkgc3RyaW5nJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KCgpID0+IG5ldyBVc2VySWQoJycpKS50b1Rocm93KEludmFsaWRVc2VySWRFcnJvcik7XG4gICAgICBleHBlY3QoKCkgPT4gbmV3IFVzZXJJZCgnJykpLnRvVGhyb3coJ1VzZXIgSUQgY2Fubm90IGJlIGVtcHR5Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IEludmFsaWRVc2VySWRFcnJvciBmb3IgaW52YWxpZCBVVUlEIGZvcm1hdCcsICgpID0+IHtcbiAgICAgIGV4cGVjdCgoKSA9PiBuZXcgVXNlcklkKCdpbnZhbGlkLXV1aWQnKSkudG9UaHJvdyhJbnZhbGlkVXNlcklkRXJyb3IpO1xuICAgICAgZXhwZWN0KCgpID0+IG5ldyBVc2VySWQoJ2ludmFsaWQtdXVpZCcpKS50b1Rocm93KCdJbnZhbGlkIFVVSUQgZm9ybWF0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IEludmFsaWRVc2VySWRFcnJvciBmb3IgbnVsbCBvciB1bmRlZmluZWQnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoKCkgPT4gbmV3IFVzZXJJZChudWxsIGFzIGFueSkpLnRvVGhyb3coSW52YWxpZFVzZXJJZEVycm9yKTtcbiAgICAgIGV4cGVjdCgoKSA9PiBuZXcgVXNlcklkKHVuZGVmaW5lZCBhcyBhbnkpKS50b1Rocm93KEludmFsaWRVc2VySWRFcnJvcik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZW5lcmF0ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIHZhbGlkIFVVSUQnLCAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VySWQgPSBVc2VySWQuZ2VuZXJhdGUoKTtcblxuICAgICAgZXhwZWN0KHVzZXJJZC50b1N0cmluZygpKS50b01hdGNoKFxuICAgICAgICAvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pLFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZGlmZmVyZW50IFVVSURzJywgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlcklkMSA9IFVzZXJJZC5nZW5lcmF0ZSgpO1xuICAgICAgY29uc3QgdXNlcklkMiA9IFVzZXJJZC5nZW5lcmF0ZSgpO1xuXG4gICAgICBleHBlY3QodXNlcklkMS50b1N0cmluZygpKS5ub3QudG9CZSh1c2VySWQyLnRvU3RyaW5nKCkpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZnJvbVN0cmluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBVc2VySWQgZnJvbSB2YWxpZCBzdHJpbmcnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFV1aWQgPSAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJztcbiAgICAgIGNvbnN0IHVzZXJJZCA9IFVzZXJJZC5mcm9tU3RyaW5nKHZhbGlkVXVpZCk7XG5cbiAgICAgIGV4cGVjdCh1c2VySWQudG9TdHJpbmcoKSkudG9CZSh2YWxpZFV1aWQpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndG9TdHJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRVdWlkID0gJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCc7XG4gICAgICBjb25zdCB1c2VySWQgPSBuZXcgVXNlcklkKHZhbGlkVXVpZCk7XG5cbiAgICAgIGV4cGVjdCh1c2VySWQudG9TdHJpbmcoKSkudG9CZSh2YWxpZFV1aWQpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZXF1YWxzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgZm9yIHNhbWUgVXNlcklkJywgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRVdWlkID0gJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCc7XG4gICAgICBjb25zdCB1c2VySWQxID0gbmV3IFVzZXJJZCh2YWxpZFV1aWQpO1xuICAgICAgY29uc3QgdXNlcklkMiA9IG5ldyBVc2VySWQodmFsaWRVdWlkKTtcblxuICAgICAgZXhwZWN0KHVzZXJJZDEuZXF1YWxzKHVzZXJJZDIpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgZm9yIGRpZmZlcmVudCBVc2VySWRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlcklkMSA9IFVzZXJJZC5nZW5lcmF0ZSgpO1xuICAgICAgY29uc3QgdXNlcklkMiA9IFVzZXJJZC5nZW5lcmF0ZSgpO1xuXG4gICAgICBleHBlY3QodXNlcklkMS5lcXVhbHModXNlcklkMikpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgZm9yIG51bGwgb3IgdW5kZWZpbmVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlcklkID0gVXNlcklkLmdlbmVyYXRlKCk7XG5cbiAgICAgIGV4cGVjdCh1c2VySWQuZXF1YWxzKG51bGwgYXMgYW55KSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QodXNlcklkLmVxdWFscyh1bmRlZmluZWQgYXMgYW55KSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwidmVyc2lvbiI6M30=