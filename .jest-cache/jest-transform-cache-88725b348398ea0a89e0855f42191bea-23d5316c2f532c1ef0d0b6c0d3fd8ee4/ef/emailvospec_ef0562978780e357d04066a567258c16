73f1a83845d2d842c53a1bbe25b5e23b
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/// <reference types="jest" />
/* eslint-env jest */
const globals_1 = require("@jest/globals");
const email_vo_1 = require("./email.vo");
/**
 * @file email.vo.spec.ts
 * @description 邮箱值对象单元测试
 *
 * 测试覆盖：
 * - 邮箱创建和验证
 * - 邮箱格式验证
 * - 邮箱相等性比较
 * - 邮箱域名检测
 * - 异常情况处理
 *
 * @author AI开发团队
 * @since 1.0.0
 */
(0, globals_1.describe)('Email', () => {
    (0, globals_1.describe)('constructor', () => {
        (0, globals_1.it)('should create Email with valid email address', () => {
            // Arrange
            const validEmail = 'test@example.com';
            // Act
            const email = new email_vo_1.Email(validEmail);
            // Assert
            (0, globals_1.expect)(email).toBeInstanceOf(email_vo_1.Email);
            (0, globals_1.expect)(email.value).toBe(validEmail.toLowerCase());
        });
        (0, globals_1.it)('should normalize email to lowercase', () => {
            // Arrange
            const mixedCaseEmail = 'Test@Example.COM';
            // Act
            const email = new email_vo_1.Email(mixedCaseEmail);
            // Assert
            (0, globals_1.expect)(email.value).toBe('test@example.com');
        });
        (0, globals_1.it)('should trim whitespace from email', () => {
            // Arrange
            const emailWithSpaces = '  test@example.com  ';
            // Act
            const email = new email_vo_1.Email(emailWithSpaces);
            // Assert
            (0, globals_1.expect)(email.value).toBe('test@example.com');
        });
        (0, globals_1.it)('should throw InvalidEmailError for invalid email format', () => {
            // Arrange
            const invalidEmail = 'invalid-email';
            // Act & Assert
            (0, globals_1.expect)(() => {
                new email_vo_1.Email(invalidEmail);
            }).toThrow(email_vo_1.InvalidEmailError);
        });
        (0, globals_1.it)('should throw InvalidEmailError for empty string', () => {
            // Arrange
            const emptyString = '';
            // Act & Assert
            (0, globals_1.expect)(() => {
                new email_vo_1.Email(emptyString);
            }).toThrow(email_vo_1.InvalidEmailError);
        });
        (0, globals_1.it)('should throw InvalidEmailError for email without @ symbol', () => {
            // Arrange
            const emailWithoutAt = 'testexample.com';
            // Act & Assert
            (0, globals_1.expect)(() => {
                new email_vo_1.Email(emailWithoutAt);
            }).toThrow(email_vo_1.InvalidEmailError);
        });
        (0, globals_1.it)('should throw InvalidEmailError for email that is too long', () => {
            // Arrange
            const longEmail = 'a'.repeat(250) + '@example.com';
            // Act & Assert
            (0, globals_1.expect)(() => {
                new email_vo_1.Email(longEmail);
            }).toThrow(email_vo_1.InvalidEmailError);
        });
        (0, globals_1.it)('should throw InvalidEmailError for email with local part too long', () => {
            // Arrange
            const longLocalPart = 'a'.repeat(65) + '@example.com';
            // Act & Assert
            (0, globals_1.expect)(() => {
                new email_vo_1.Email(longLocalPart);
            }).toThrow(email_vo_1.InvalidEmailError);
        });
    });
    (0, globals_1.describe)('equals', () => {
        (0, globals_1.it)('should return true for same Email instances', () => {
            // Arrange
            const email1 = new email_vo_1.Email('test@example.com');
            const email2 = new email_vo_1.Email('test@example.com');
            // Act
            const result = email1.equals(email2);
            // Assert
            (0, globals_1.expect)(result).toBe(true);
        });
        (0, globals_1.it)('should return true for emails with different case', () => {
            // Arrange
            const email1 = new email_vo_1.Email('Test@Example.COM');
            const email2 = new email_vo_1.Email('test@example.com');
            // Act
            const result = email1.equals(email2);
            // Assert
            (0, globals_1.expect)(result).toBe(true);
        });
        (0, globals_1.it)('should return false for different Email instances', () => {
            // Arrange
            const email1 = new email_vo_1.Email('test1@example.com');
            const email2 = new email_vo_1.Email('test2@example.com');
            // Act
            const result = email1.equals(email2);
            // Assert
            (0, globals_1.expect)(result).toBe(false);
        });
        (0, globals_1.it)('should return false when comparing with non-Email object', () => {
            // Arrange
            const email = new email_vo_1.Email('test@example.com');
            const otherObject = { value: 'test@example.com' };
            // Act
            const result = email.equals(otherObject);
            // Assert
            (0, globals_1.expect)(result).toBe(false);
        });
    });
    (0, globals_1.describe)('getLocalPart', () => {
        (0, globals_1.it)('should return local part of email', () => {
            // Arrange
            const email = new email_vo_1.Email('test@example.com');
            // Act
            const localPart = email.getLocalPart();
            // Assert
            (0, globals_1.expect)(localPart).toBe('test');
        });
        (0, globals_1.it)('should return local part for complex email', () => {
            // Arrange
            const email = new email_vo_1.Email('user.name+tag@example.com');
            // Act
            const localPart = email.getLocalPart();
            // Assert
            (0, globals_1.expect)(localPart).toBe('user.name+tag');
        });
    });
    (0, globals_1.describe)('getDomain', () => {
        (0, globals_1.it)('should return domain part of email', () => {
            // Arrange
            const email = new email_vo_1.Email('test@example.com');
            // Act
            const domain = email.getDomain();
            // Assert
            (0, globals_1.expect)(domain).toBe('example.com');
        });
        (0, globals_1.it)('should return domain for complex email', () => {
            // Arrange
            const email = new email_vo_1.Email('test@sub.example.com');
            // Act
            const domain = email.getDomain();
            // Assert
            (0, globals_1.expect)(domain).toBe('sub.example.com');
        });
    });
    (0, globals_1.describe)('isFromDomain', () => {
        (0, globals_1.it)('should return true for matching domain', () => {
            // Arrange
            const email = new email_vo_1.Email('test@example.com');
            // Act
            const result = email.isFromDomain('example.com');
            // Assert
            (0, globals_1.expect)(result).toBe(true);
        });
        (0, globals_1.it)('should return true for matching domain with different case', () => {
            // Arrange
            const email = new email_vo_1.Email('test@Example.COM');
            // Act
            const result = email.isFromDomain('example.com');
            // Assert
            (0, globals_1.expect)(result).toBe(true);
        });
        (0, globals_1.it)('should return false for non-matching domain', () => {
            // Arrange
            const email = new email_vo_1.Email('test@example.com');
            // Act
            const result = email.isFromDomain('other.com');
            // Assert
            (0, globals_1.expect)(result).toBe(false);
        });
    });
    (0, globals_1.describe)('isGmail', () => {
        (0, globals_1.it)('should return true for Gmail address', () => {
            // Arrange
            const email = new email_vo_1.Email('test@gmail.com');
            // Act
            const result = email.isGmail();
            // Assert
            (0, globals_1.expect)(result).toBe(true);
        });
        (0, globals_1.it)('should return false for non-Gmail address', () => {
            // Arrange
            const email = new email_vo_1.Email('test@example.com');
            // Act
            const result = email.isGmail();
            // Assert
            (0, globals_1.expect)(result).toBe(false);
        });
    });
    (0, globals_1.describe)('isOutlook', () => {
        (0, globals_1.it)('should return true for Outlook address', () => {
            // Arrange
            const email = new email_vo_1.Email('test@outlook.com');
            // Act
            const result = email.isOutlook();
            // Assert
            (0, globals_1.expect)(result).toBe(true);
        });
        (0, globals_1.it)('should return true for Hotmail address', () => {
            // Arrange
            const email = new email_vo_1.Email('test@hotmail.com');
            // Act
            const result = email.isOutlook();
            // Assert
            (0, globals_1.expect)(result).toBe(true);
        });
        (0, globals_1.it)('should return false for non-Outlook address', () => {
            // Arrange
            const email = new email_vo_1.Email('test@example.com');
            // Act
            const result = email.isOutlook();
            // Assert
            (0, globals_1.expect)(result).toBe(false);
        });
    });
    (0, globals_1.describe)('isCorporate', () => {
        (0, globals_1.it)('should return true for corporate email', () => {
            // Arrange
            const email = new email_vo_1.Email('test@company.com');
            // Act
            const result = email.isCorporate();
            // Assert
            (0, globals_1.expect)(result).toBe(true);
        });
        (0, globals_1.it)('should return false for Gmail address', () => {
            // Arrange
            const email = new email_vo_1.Email('test@gmail.com');
            // Act
            const result = email.isCorporate();
            // Assert
            (0, globals_1.expect)(result).toBe(false);
        });
        (0, globals_1.it)('should return false for Outlook address', () => {
            // Arrange
            const email = new email_vo_1.Email('test@outlook.com');
            // Act
            const result = email.isCorporate();
            // Assert
            (0, globals_1.expect)(result).toBe(false);
        });
    });
    (0, globals_1.describe)('toString', () => {
        (0, globals_1.it)('should return email string representation', () => {
            // Arrange
            const emailString = 'test@example.com';
            const email = new email_vo_1.Email(emailString);
            // Act
            const result = email.toString();
            // Assert
            (0, globals_1.expect)(result).toBe(emailString);
        });
    });
    (0, globals_1.describe)('fromString', () => {
        (0, globals_1.it)('should create Email from valid string', () => {
            // Arrange
            const emailString = 'test@example.com';
            // Act
            const email = email_vo_1.Email.fromString(emailString);
            // Assert
            (0, globals_1.expect)(email).toBeInstanceOf(email_vo_1.Email);
            (0, globals_1.expect)(email.value).toBe(emailString);
        });
        (0, globals_1.it)('should throw InvalidEmailError for invalid string', () => {
            // Arrange
            const invalidString = 'invalid-email';
            // Act & Assert
            (0, globals_1.expect)(() => {
                email_vo_1.Email.fromString(invalidString);
            }).toThrow(email_vo_1.InvalidEmailError);
        });
    });
    (0, globals_1.describe)('isValid', () => {
        (0, globals_1.it)('should return true for valid email', () => {
            // Arrange
            const validEmail = 'test@example.com';
            // Act
            const result = email_vo_1.Email.isValid(validEmail);
            // Assert
            (0, globals_1.expect)(result).toBe(true);
        });
        (0, globals_1.it)('should return false for invalid email', () => {
            // Arrange
            const invalidEmail = 'invalid-email';
            // Act
            const result = email_vo_1.Email.isValid(invalidEmail);
            // Assert
            (0, globals_1.expect)(result).toBe(false);
        });
        (0, globals_1.it)('should return false for empty string', () => {
            // Arrange
            const emptyString = '';
            // Act
            const result = email_vo_1.Email.isValid(emptyString);
            // Assert
            (0, globals_1.expect)(result).toBe(false);
        });
    });
});
(0, globals_1.describe)('InvalidEmailError', () => {
    (0, globals_1.it)('should create error with correct name and message', () => {
        // Arrange
        const message = 'Invalid email format';
        // Act
        const error = new email_vo_1.InvalidEmailError(message);
        // Assert
        (0, globals_1.expect)(error).toBeInstanceOf(Error);
        (0, globals_1.expect)(error).toBeInstanceOf(email_vo_1.InvalidEmailError);
        (0, globals_1.expect)(error.name).toBe('InvalidEmailError');
        (0, globals_1.expect)(error.message).toBe(message);
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvYXJsaWdsZS9WMS9BaW9maXgvYWlvZml4LWFpLXNhYXMtcGxhdGZvcm0vcGFja2FnZXMvc2hhcmVkL3NyYy9jb21tb24vZW1haWwudm8uc3BlYy50cyIsIm1hcHBpbmdzIjoiOztBQUFBLDhCQUE4QjtBQUM5QixxQkFBcUI7QUFDckIsMkNBT3VCO0FBRXZCLHlDQUFzRDtBQUV0RDs7Ozs7Ozs7Ozs7OztHQWFHO0FBQ0gsSUFBQSxrQkFBUSxFQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7SUFDckIsSUFBQSxrQkFBUSxFQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUU7UUFDM0IsSUFBQSxZQUFFLEVBQUMsOENBQThDLEVBQUUsR0FBRyxFQUFFO1lBQ3RELFVBQVU7WUFDVixNQUFNLFVBQVUsR0FBRyxrQkFBa0IsQ0FBQztZQUV0QyxNQUFNO1lBQ04sTUFBTSxLQUFLLEdBQUcsSUFBSSxnQkFBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBRXBDLFNBQVM7WUFDVCxJQUFBLGdCQUFNLEVBQUMsS0FBSyxDQUFDLENBQUMsY0FBYyxDQUFDLGdCQUFLLENBQUMsQ0FBQztZQUNwQyxJQUFBLGdCQUFNLEVBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztRQUNyRCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUEsWUFBRSxFQUFDLHFDQUFxQyxFQUFFLEdBQUcsRUFBRTtZQUM3QyxVQUFVO1lBQ1YsTUFBTSxjQUFjLEdBQUcsa0JBQWtCLENBQUM7WUFFMUMsTUFBTTtZQUNOLE1BQU0sS0FBSyxHQUFHLElBQUksZ0JBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUV4QyxTQUFTO1lBQ1QsSUFBQSxnQkFBTSxFQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUMvQyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUEsWUFBRSxFQUFDLG1DQUFtQyxFQUFFLEdBQUcsRUFBRTtZQUMz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UUFDVCxJQUFBLGdCQUFNLEVBQUMsS0FBSyxDQUFDLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BDLElBQUEsZ0JBQU0sRUFBQyxLQUFLLENBQUMsQ0FBQyxjQUFjLENBQUMsNEJBQWlCLENBQUMsQ0FBQztRQUNoRCxJQUFBLGdCQUFNLEVBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQzdDLElBQUEsZ0JBQU0sRUFBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvYXJsaWdsZS9WMS9BaW9maXgvYWlvZml4LWFpLXNhYXMtcGxhdGZvcm0vcGFja2FnZXMvc2hhcmVkL3NyYy9jb21tb24vZW1haWwudm8uc3BlYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSB0eXBlcz1cImplc3RcIiAvPlxuLyogZXNsaW50LWVudiBqZXN0ICovXG5pbXBvcnQge1xuICBkZXNjcmliZSxcbiAgaXQsXG4gIGV4cGVjdCxcbiAgamVzdCxcbiAgYmVmb3JlRWFjaCxcbiAgYWZ0ZXJFYWNoLFxufSBmcm9tICdAamVzdC9nbG9iYWxzJztcblxuaW1wb3J0IHsgRW1haWwsIEludmFsaWRFbWFpbEVycm9yIH0gZnJvbSAnLi9lbWFpbC52byc7XG5cbi8qKlxuICogQGZpbGUgZW1haWwudm8uc3BlYy50c1xuICogQGRlc2NyaXB0aW9uIOmCrueuseWAvOWvueixoeWNleWFg+a1i+ivlVxuICpcbiAqIOa1i+ivleimhueblu+8mlxuICogLSDpgq7nrrHliJvlu7rlkozpqozor4FcbiAqIC0g6YKu566x5qC85byP6aqM6K+BXG4gKiAtIOmCrueuseebuOetieaAp+avlOi+g1xuICogLSDpgq7nrrHln5/lkI3mo4DmtYtcbiAqIC0g5byC5bi45oOF5Ya15aSE55CGXG4gKlxuICogQGF1dGhvciBBSeW8gOWPkeWboumYn1xuICogQHNpbmNlIDEuMC4wXG4gKi9cbmRlc2NyaWJlKCdFbWFpbCcsICgpID0+IHtcbiAgZGVzY3JpYmUoJ2NvbnN0cnVjdG9yJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIEVtYWlsIHdpdGggdmFsaWQgZW1haWwgYWRkcmVzcycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHZhbGlkRW1haWwgPSAndGVzdEBleGFtcGxlLmNvbSc7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgZW1haWwgPSBuZXcgRW1haWwodmFsaWRFbWFpbCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KGVtYWlsKS50b0JlSW5zdGFuY2VPZihFbWFpbCk7XG4gICAgICBleHBlY3QoZW1haWwudmFsdWUpLnRvQmUodmFsaWRFbWFpbC50b0xvd2VyQ2FzZSgpKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm9ybWFsaXplIGVtYWlsIHRvIGxvd2VyY2FzZScsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG1peGVkQ2FzZUVtYWlsID0gJ1Rlc3RARXhhbXBsZS5DT00nO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IGVtYWlsID0gbmV3IEVtYWlsKG1peGVkQ2FzZUVtYWlsKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QoZW1haWwudmFsdWUpLnRvQmUoJ3Rlc3RAZXhhbXBsZS5jb20nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHJpbSB3aGl0ZXNwYWNlIGZyb20gZW1haWwnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBlbWFpbFdpdGhTcGFjZXMgPSAnICB0ZXN0QGV4YW1wbGUuY29tICAnO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IGVtYWlsID0gbmV3IEVtYWlsKGVtYWlsV2l0aFNwYWNlcyk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KGVtYWlsLnZhbHVlKS50b0JlKCd0ZXN0QGV4YW1wbGUuY29tJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IEludmFsaWRFbWFpbEVycm9yIGZvciBpbnZhbGlkIGVtYWlsIGZvcm1hdCcsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludmFsaWRFbWFpbCA9ICdpbnZhbGlkLWVtYWlsJztcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBuZXcgRW1haWwoaW52YWxpZEVtYWlsKTtcbiAgICAgIH0pLnRvVGhyb3coSW52YWxpZEVtYWlsRXJyb3IpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBJbnZhbGlkRW1haWxFcnJvciBmb3IgZW1wdHkgc3RyaW5nJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1wdHlTdHJpbmcgPSAnJztcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBuZXcgRW1haWwoZW1wdHlTdHJpbmcpO1xuICAgICAgfSkudG9UaHJvdyhJbnZhbGlkRW1haWxFcnJvcik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IEludmFsaWRFbWFpbEVycm9yIGZvciBlbWFpbCB3aXRob3V0IEAgc3ltYm9sJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1haWxXaXRob3V0QXQgPSAndGVzdGV4YW1wbGUuY29tJztcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBuZXcgRW1haWwoZW1haWxXaXRob3V0QXQpO1xuICAgICAgfSkudG9UaHJvdyhJbnZhbGlkRW1haWxFcnJvcik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IEludmFsaWRFbWFpbEVycm9yIGZvciBlbWFpbCB0aGF0IGlzIHRvbyBsb25nJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgbG9uZ0VtYWlsID0gJ2EnLnJlcGVhdCgyNTApICsgJ0BleGFtcGxlLmNvbSc7XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgbmV3IEVtYWlsKGxvbmdFbWFpbCk7XG4gICAgICB9KS50b1Rocm93KEludmFsaWRFbWFpbEVycm9yKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdGhyb3cgSW52YWxpZEVtYWlsRXJyb3IgZm9yIGVtYWlsIHdpdGggbG9jYWwgcGFydCB0b28gbG9uZycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGxvbmdMb2NhbFBhcnQgPSAnYScucmVwZWF0KDY1KSArICdAZXhhbXBsZS5jb20nO1xuXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgIG5ldyBFbWFpbChsb25nTG9jYWxQYXJ0KTtcbiAgICAgIH0pLnRvVGhyb3coSW52YWxpZEVtYWlsRXJyb3IpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZXF1YWxzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgZm9yIHNhbWUgRW1haWwgaW5zdGFuY2VzJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1haWwxID0gbmV3IEVtYWlsKCd0ZXN0QGV4YW1wbGUuY29tJyk7XG4gICAgICBjb25zdCBlbWFpbDIgPSBuZXcgRW1haWwoJ3Rlc3RAZXhhbXBsZS5jb20nKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBlbWFpbDEuZXF1YWxzKGVtYWlsMik7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgZm9yIGVtYWlscyB3aXRoIGRpZmZlcmVudCBjYXNlJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1haWwxID0gbmV3IEVtYWlsKCdUZXN0QEV4YW1wbGUuQ09NJyk7XG4gICAgICBjb25zdCBlbWFpbDIgPSBuZXcgRW1haWwoJ3Rlc3RAZXhhbXBsZS5jb20nKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBlbWFpbDEuZXF1YWxzKGVtYWlsMik7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIGZvciBkaWZmZXJlbnQgRW1haWwgaW5zdGFuY2VzJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1haWwxID0gbmV3IEVtYWlsKCd0ZXN0MUBleGFtcGxlLmNvbScpO1xuICAgICAgY29uc3QgZW1haWwyID0gbmV3IEVtYWlsKCd0ZXN0MkBleGFtcGxlLmNvbScpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGVtYWlsMS5lcXVhbHMoZW1haWwyKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIHdoZW4gY29tcGFyaW5nIHdpdGggbm9uLUVtYWlsIG9iamVjdCcsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtYWlsID0gbmV3IEVtYWlsKCd0ZXN0QGV4YW1wbGUuY29tJyk7XG4gICAgICBjb25zdCBvdGhlck9iamVjdCA9IHsgdmFsdWU6ICd0ZXN0QGV4YW1wbGUuY29tJyB9O1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGVtYWlsLmVxdWFscyhvdGhlck9iamVjdCBhcyBhbnkpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0TG9jYWxQYXJ0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGxvY2FsIHBhcnQgb2YgZW1haWwnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBlbWFpbCA9IG5ldyBFbWFpbCgndGVzdEBleGFtcGxlLmNvbScpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IGxvY2FsUGFydCA9IGVtYWlsLmdldExvY2FsUGFydCgpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChsb2NhbFBhcnQpLnRvQmUoJ3Rlc3QnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGxvY2FsIHBhcnQgZm9yIGNvbXBsZXggZW1haWwnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBlbWFpbCA9IG5ldyBFbWFpbCgndXNlci5uYW1lK3RhZ0BleGFtcGxlLmNvbScpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IGxvY2FsUGFydCA9IGVtYWlsLmdldExvY2FsUGFydCgpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChsb2NhbFBhcnQpLnRvQmUoJ3VzZXIubmFtZSt0YWcnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldERvbWFpbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBkb21haW4gcGFydCBvZiBlbWFpbCcsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtYWlsID0gbmV3IEVtYWlsKCd0ZXN0QGV4YW1wbGUuY29tJyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgZG9tYWluID0gZW1haWwuZ2V0RG9tYWluKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KGRvbWFpbikudG9CZSgnZXhhbXBsZS5jb20nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGRvbWFpbiBmb3IgY29tcGxleCBlbWFpbCcsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtYWlsID0gbmV3IEVtYWlsKCd0ZXN0QHN1Yi5leGFtcGxlLmNvbScpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IGRvbWFpbiA9IGVtYWlsLmdldERvbWFpbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChkb21haW4pLnRvQmUoJ3N1Yi5leGFtcGxlLmNvbScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnaXNGcm9tRG9tYWluJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgZm9yIG1hdGNoaW5nIGRvbWFpbicsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtYWlsID0gbmV3IEVtYWlsKCd0ZXN0QGV4YW1wbGUuY29tJyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gZW1haWwuaXNGcm9tRG9tYWluKCdleGFtcGxlLmNvbScpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiB0cnVlIGZvciBtYXRjaGluZyBkb21haW4gd2l0aCBkaWZmZXJlbnQgY2FzZScsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtYWlsID0gbmV3IEVtYWlsKCd0ZXN0QEV4YW1wbGUuQ09NJyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gZW1haWwuaXNGcm9tRG9tYWluKCdleGFtcGxlLmNvbScpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBmYWxzZSBmb3Igbm9uLW1hdGNoaW5nIGRvbWFpbicsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtYWlsID0gbmV3IEVtYWlsKCd0ZXN0QGV4YW1wbGUuY29tJyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gZW1haWwuaXNGcm9tRG9tYWluKCdvdGhlci5jb20nKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2lzR21haWwnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBmb3IgR21haWwgYWRkcmVzcycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtYWlsID0gbmV3IEVtYWlsKCd0ZXN0QGdtYWlsLmNvbScpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGVtYWlsLmlzR21haWwoKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgZm9yIG5vbi1HbWFpbCBhZGRyZXNzJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1haWwgPSBuZXcgRW1haWwoJ3Rlc3RAZXhhbXBsZS5jb20nKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBlbWFpbC5pc0dtYWlsKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdpc091dGxvb2snLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBmb3IgT3V0bG9vayBhZGRyZXNzJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1haWwgPSBuZXcgRW1haWwoJ3Rlc3RAb3V0bG9vay5jb20nKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBlbWFpbC5pc091dGxvb2soKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBmb3IgSG90bWFpbCBhZGRyZXNzJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1haWwgPSBuZXcgRW1haWwoJ3Rlc3RAaG90bWFpbC5jb20nKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBlbWFpbC5pc091dGxvb2soKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgZm9yIG5vbi1PdXRsb29rIGFkZHJlc3MnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBlbWFpbCA9IG5ldyBFbWFpbCgndGVzdEBleGFtcGxlLmNvbScpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGVtYWlsLmlzT3V0bG9vaygpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnaXNDb3Jwb3JhdGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBmb3IgY29ycG9yYXRlIGVtYWlsJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1haWwgPSBuZXcgRW1haWwoJ3Rlc3RAY29tcGFueS5jb20nKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBlbWFpbC5pc0NvcnBvcmF0ZSgpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBmYWxzZSBmb3IgR21haWwgYWRkcmVzcycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtYWlsID0gbmV3IEVtYWlsKCd0ZXN0QGdtYWlsLmNvbScpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGVtYWlsLmlzQ29ycG9yYXRlKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBmYWxzZSBmb3IgT3V0bG9vayBhZGRyZXNzJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1haWwgPSBuZXcgRW1haWwoJ3Rlc3RAb3V0bG9vay5jb20nKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBlbWFpbC5pc0NvcnBvcmF0ZSgpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndG9TdHJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZW1haWwgc3RyaW5nIHJlcHJlc2VudGF0aW9uJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1haWxTdHJpbmcgPSAndGVzdEBleGFtcGxlLmNvbSc7XG4gICAgICBjb25zdCBlbWFpbCA9IG5ldyBFbWFpbChlbWFpbFN0cmluZyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gZW1haWwudG9TdHJpbmcoKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKGVtYWlsU3RyaW5nKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2Zyb21TdHJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgRW1haWwgZnJvbSB2YWxpZCBzdHJpbmcnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBlbWFpbFN0cmluZyA9ICd0ZXN0QGV4YW1wbGUuY29tJztcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCBlbWFpbCA9IEVtYWlsLmZyb21TdHJpbmcoZW1haWxTdHJpbmcpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChlbWFpbCkudG9CZUluc3RhbmNlT2YoRW1haWwpO1xuICAgICAgZXhwZWN0KGVtYWlsLnZhbHVlKS50b0JlKGVtYWlsU3RyaW5nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdGhyb3cgSW52YWxpZEVtYWlsRXJyb3IgZm9yIGludmFsaWQgc3RyaW5nJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgaW52YWxpZFN0cmluZyA9ICdpbnZhbGlkLWVtYWlsJztcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBFbWFpbC5mcm9tU3RyaW5nKGludmFsaWRTdHJpbmcpO1xuICAgICAgfSkudG9UaHJvdyhJbnZhbGlkRW1haWxFcnJvcik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdpc1ZhbGlkJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgZm9yIHZhbGlkIGVtYWlsJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgdmFsaWRFbWFpbCA9ICd0ZXN0QGV4YW1wbGUuY29tJztcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBFbWFpbC5pc1ZhbGlkKHZhbGlkRW1haWwpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBmYWxzZSBmb3IgaW52YWxpZCBlbWFpbCcsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludmFsaWRFbWFpbCA9ICdpbnZhbGlkLWVtYWlsJztcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBFbWFpbC5pc1ZhbGlkKGludmFsaWRFbWFpbCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBmYWxzZSBmb3IgZW1wdHkgc3RyaW5nJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1wdHlTdHJpbmcgPSAnJztcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBFbWFpbC5pc1ZhbGlkKGVtcHR5U3RyaW5nKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ0ludmFsaWRFbWFpbEVycm9yJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBlcnJvciB3aXRoIGNvcnJlY3QgbmFtZSBhbmQgbWVzc2FnZScsICgpID0+IHtcbiAgICAvLyBBcnJhbmdlXG4gICAgY29uc3QgbWVzc2FnZSA9ICdJbnZhbGlkIGVtYWlsIGZvcm1hdCc7XG5cbiAgICAvLyBBY3RcbiAgICBjb25zdCBlcnJvciA9IG5ldyBJbnZhbGlkRW1haWxFcnJvcihtZXNzYWdlKTtcblxuICAgIC8vIEFzc2VydFxuICAgIGV4cGVjdChlcnJvcikudG9CZUluc3RhbmNlT2YoRXJyb3IpO1xuICAgIGV4cGVjdChlcnJvcikudG9CZUluc3RhbmNlT2YoSW52YWxpZEVtYWlsRXJyb3IpO1xuICAgIGV4cGVjdChlcnJvci5uYW1lKS50b0JlKCdJbnZhbGlkRW1haWxFcnJvcicpO1xuICAgIGV4cGVjdChlcnJvci5tZXNzYWdlKS50b0JlKG1lc3NhZ2UpO1xuICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9