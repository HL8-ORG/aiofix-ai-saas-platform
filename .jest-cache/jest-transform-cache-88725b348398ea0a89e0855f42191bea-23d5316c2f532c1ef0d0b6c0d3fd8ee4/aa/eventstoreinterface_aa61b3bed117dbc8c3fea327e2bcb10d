da46489047204bcc4830edb9437b14ad
"use strict";

/* istanbul ignore next */
function cov_5fbdvedjn() {
  var path = "/home/arligle/V1/Aiofix/aiofix-ai-saas-platform/packages/core/src/domain/interfaces/event-store.interface.ts";
  var hash = "e3033052ec4bd68a6019af1888ab95ae341b3cd3";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/arligle/V1/Aiofix/aiofix-ai-saas-platform/packages/core/src/domain/interfaces/event-store.interface.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 62
        }
      }
    },
    fnMap: {},
    branchMap: {},
    s: {
      "0": 0
    },
    f: {},
    b: {},
    inputSourceMap: {
      file: "/home/arligle/V1/Aiofix/aiofix-ai-saas-platform/packages/core/src/domain/interfaces/event-store.interface.ts",
      mappings: "",
      names: [],
      sources: ["/home/arligle/V1/Aiofix/aiofix-ai-saas-platform/packages/core/src/domain/interfaces/event-store.interface.ts"],
      sourcesContent: ["import { DomainEvent, EventMetadata } from '../domain-event';\n\n/**\n * @interface StoredEvent\n * @description \u5B58\u50A8\u7684\u4E8B\u4EF6\uFF0C\u5305\u542B\u4E8B\u4EF6\u6570\u636E\u548C\u5143\u6570\u636E\n */\nexport interface StoredEvent {\n  readonly eventId: string;\n  readonly aggregateId: string;\n  readonly eventType: string;\n  readonly eventVersion: number;\n  readonly eventData: Record<string, unknown>;\n  readonly metadata: EventMetadata;\n  readonly occurredOn: Date;\n  readonly storedAt: Date;\n  readonly streamVersion: number; // \u4E8B\u4EF6\u6D41\u7248\u672C\u53F7\n}\n\n/**\n * @interface EventStream\n * @description \u4E8B\u4EF6\u6D41\uFF0C\u5305\u542B\u805A\u5408\u6839\u7684\u6240\u6709\u4E8B\u4EF6\n */\nexport interface EventStream {\n  readonly aggregateId: string;\n  readonly events: StoredEvent[];\n  readonly fromVersion: number;\n  readonly toVersion: number;\n  readonly hasMore: boolean;\n}\n\n/**\n * @interface EventStoreQuery\n * @description \u4E8B\u4EF6\u5B58\u50A8\u67E5\u8BE2\u6761\u4EF6\n */\nexport interface EventStoreQuery {\n  readonly aggregateId?: string;\n  readonly eventType?: string;\n  readonly fromDate?: Date;\n  readonly toDate?: Date;\n  readonly fromVersion?: number;\n  readonly toVersion?: number;\n  readonly limit?: number;\n  readonly offset?: number;\n  readonly tenantId?: string;\n  readonly userId?: string;\n}\n\n/**\n * @interface EventStoreResult\n * @description \u4E8B\u4EF6\u5B58\u50A8\u67E5\u8BE2\u7ED3\u679C\n */\nexport interface EventStoreResult {\n  readonly events: StoredEvent[];\n  readonly totalCount: number;\n  readonly hasMore: boolean;\n  readonly nextOffset?: number;\n}\n\n/**\n * @interface IAggregateSnapshot\n * @description \u805A\u5408\u6839\u5FEB\u7167\u63A5\u53E3\n */\nexport interface IAggregateSnapshot {\n  readonly aggregateId: string;\n  readonly aggregateType: string;\n  readonly version: number;\n  readonly data: Record<string, unknown>;\n  readonly createdAt: Date;\n}\n\n/**\n * @interface IEventStore\n * @description\n * \u4E8B\u4EF6\u5B58\u50A8\u63A5\u53E3\uFF0C\u8D1F\u8D23\u7BA1\u7406\u9886\u57DF\u4E8B\u4EF6\u7684\u6301\u4E45\u5316\u3001\u68C0\u7D22\u548C\u91CD\u653E\u529F\u80FD\u3002\n *\n * \u4E8B\u4EF6\u5B58\u50A8\u804C\u8D23\uFF1A\n * 1. \u6301\u4E45\u5316\u9886\u57DF\u4E8B\u4EF6\u5230\u4E8B\u4EF6\u5B58\u50A8\u6570\u636E\u5E93\n * 2. \u652F\u6301\u4E8B\u4EF6\u7684\u7248\u672C\u63A7\u5236\u548C\u5E76\u53D1\u63A7\u5236\n * 3. \u63D0\u4F9B\u4E8B\u4EF6\u67E5\u8BE2\u548C\u8FC7\u6EE4\u529F\u80FD\n * 4. \u652F\u6301\u4E8B\u4EF6\u91CD\u653E\u548C\u5FEB\u7167\u673A\u5236\n *\n * \u4E8B\u4EF6\u6EAF\u6E90\u7279\u6027\uFF1A\n * 1. \u6240\u6709\u72B6\u6001\u53D8\u66F4\u90FD\u901A\u8FC7\u4E8B\u4EF6\u8BB0\u5F55\n * 2. \u652F\u6301\u65F6\u95F4\u65C5\u884C\u548C\u72B6\u6001\u91CD\u5EFA\n * 3. \u63D0\u4F9B\u5B8C\u6574\u7684\u5BA1\u8BA1\u65E5\u5FD7\n * 4. \u652F\u6301\u4E8B\u4EF6\u7248\u672C\u7BA1\u7406\u548C\u8FC1\u79FB\n *\n * \u591A\u79DF\u6237\u652F\u6301\uFF1A\n * 1. \u57FA\u4E8E\u79DF\u6237ID\u8FDB\u884C\u4E8B\u4EF6\u9694\u79BB\n * 2. \u652F\u6301\u79DF\u6237\u7EA7\u7684\u4E8B\u4EF6\u67E5\u8BE2\n * 3. \u786E\u4FDD\u8DE8\u79DF\u6237\u6570\u636E\u5B89\u5168\n * 4. \u652F\u6301\u79DF\u6237\u7EA7\u7684\u4E8B\u4EF6\u5F52\u6863\n *\n * @example\n * ```typescript\n * const eventStore = new EventStore(eventRepository, snapshotRepository);\n * await eventStore.saveEvents(aggregateId, events);\n * const events = await eventStore.getEvents(aggregateId, fromVersion);\n * ```\n * @since 1.0.0\n */\nexport interface IEventStore {\n  /**\n   * @method saveEvents\n   * @description \u4FDD\u5B58\u805A\u5408\u6839\u7684\u4E8B\u4EF6\u5230\u4E8B\u4EF6\u5B58\u50A8\n   * @param {string} aggregateId \u805A\u5408\u6839ID\n   * @param {DomainEvent[]} events \u9886\u57DF\u4E8B\u4EF6\u5217\u8868\n   * @param {number} expectedVersion \u671F\u671B\u7684\u7248\u672C\u53F7\uFF0C\u7528\u4E8E\u4E50\u89C2\u5E76\u53D1\u63A7\u5236\n   * @param {EventMetadata} [metadata] \u4E8B\u4EF6\u5143\u6570\u636E\uFF0C\u53EF\u9009\n   * @returns {Promise<void>}\n   * @throws {ConcurrencyError} \u5F53\u7248\u672C\u51B2\u7A81\u65F6\u629B\u51FA\n   * @throws {ValidationError} \u5F53\u4E8B\u4EF6\u65E0\u6548\u65F6\u629B\u51FA\n   *\n   * \u4FDD\u5B58\u6D41\u7A0B\uFF1A\n   * 1. \u9A8C\u8BC1\u4E8B\u4EF6\u7684\u6709\u6548\u6027\u548C\u5B8C\u6574\u6027\n   * 2. \u68C0\u67E5\u805A\u5408\u6839\u7248\u672C\u4E00\u81F4\u6027\n   * 3. \u5E94\u7528\u79DF\u6237\u7EA7\u6570\u636E\u9694\u79BB\n   * 4. \u6301\u4E45\u5316\u4E8B\u4EF6\u5230\u5B58\u50A8\n   * 5. \u66F4\u65B0\u805A\u5408\u6839\u7248\u672C\u53F7\n   */\n  saveEvents(\n    aggregateId: string,\n    events: DomainEvent[],\n    expectedVersion: number,\n    metadata?: EventMetadata,\n  ): Promise<void>;\n\n  /**\n   * @method getEvents\n   * @description \u83B7\u53D6\u805A\u5408\u6839\u7684\u4E8B\u4EF6\u5386\u53F2\n   * @param {string} aggregateId \u805A\u5408\u6839ID\n   * @param {number} fromVersion \u8D77\u59CB\u7248\u672C\u53F7\n   * @param {number} toVersion \u7ED3\u675F\u7248\u672C\u53F7\uFF0C\u53EF\u9009\n   * @returns {Promise<DomainEvent[]>} \u4E8B\u4EF6\u5217\u8868\n   */\n  getEvents(\n    aggregateId: string,\n    fromVersion?: number,\n    toVersion?: number,\n  ): Promise<DomainEvent[]>;\n\n  /**\n   * @method getEventStream\n   * @description \u83B7\u53D6\u4E8B\u4EF6\u6D41\n   * @param {string} aggregateId \u805A\u5408\u6839ID\n   * @param {number} fromVersion \u8D77\u59CB\u7248\u672C\u53F7\n   * @param {number} limit \u9650\u5236\u6570\u91CF\n   * @returns {Promise<EventStream>} \u4E8B\u4EF6\u6D41\n   */\n  getEventStream(\n    aggregateId: string,\n    fromVersion?: number,\n    limit?: number,\n  ): Promise<EventStream>;\n\n  /**\n   * @method queryEvents\n   * @description \u67E5\u8BE2\u4E8B\u4EF6\n   * @param {EventStoreQuery} query \u67E5\u8BE2\u6761\u4EF6\n   * @returns {Promise<EventStoreResult>} \u67E5\u8BE2\u7ED3\u679C\n   */\n  queryEvents(query: EventStoreQuery): Promise<EventStoreResult>;\n\n  /**\n   * @method getEventsByType\n   * @description \u6839\u636E\u4E8B\u4EF6\u7C7B\u578B\u83B7\u53D6\u4E8B\u4EF6\n   * @param {string} eventType \u4E8B\u4EF6\u7C7B\u578B\n   * @param {Date} fromDate \u5F00\u59CB\u65E5\u671F\n   * @param {Date} toDate \u7ED3\u675F\u65E5\u671F\n   * @param {number} limit \u9650\u5236\u6570\u91CF\n   * @returns {Promise<DomainEvent[]>} \u4E8B\u4EF6\u5217\u8868\n   */\n  getEventsByType(\n    eventType: string,\n    fromDate?: Date,\n    toDate?: Date,\n    limit?: number,\n  ): Promise<DomainEvent[]>;\n\n  /**\n   * @method createSnapshot\n   * @description \u4E3A\u805A\u5408\u6839\u521B\u5EFA\u5FEB\u7167\n   * @param {string} aggregateId \u805A\u5408\u6839ID\n   * @param {any} aggregateState \u805A\u5408\u6839\u72B6\u6001\n   * @param {number} version \u7248\u672C\u53F7\n   * @returns {Promise<void>}\n   */\n  createSnapshot(\n    aggregateId: string,\n    aggregateState: any,\n    version: number,\n  ): Promise<void>;\n\n  /**\n   * @method getSnapshot\n   * @description \u83B7\u53D6\u805A\u5408\u6839\u7684\u6700\u65B0\u5FEB\u7167\n   * @param {string} aggregateId \u805A\u5408\u6839ID\n   * @returns {Promise<IAggregateSnapshot | null>} \u5FEB\u7167\u6216null\n   */\n  getSnapshot(aggregateId: string): Promise<IAggregateSnapshot | null>;\n\n  /**\n   * @method deleteSnapshot\n   * @description \u5220\u9664\u805A\u5408\u6839\u7684\u5FEB\u7167\n   * @param {string} aggregateId \u805A\u5408\u6839ID\n   * @returns {Promise<void>}\n   */\n  deleteSnapshot(aggregateId: string): Promise<void>;\n\n  /**\n   * @method getAggregateVersion\n   * @description \u83B7\u53D6\u805A\u5408\u6839\u7684\u5F53\u524D\u7248\u672C\u53F7\n   * @param {string} aggregateId \u805A\u5408\u6839ID\n   * @returns {Promise<number>} \u7248\u672C\u53F7\n   */\n  getAggregateVersion(aggregateId: string): Promise<number>;\n\n  /**\n   * @method eventExists\n   * @description \u68C0\u67E5\u4E8B\u4EF6\u662F\u5426\u5B58\u5728\n   * @param {string} eventId \u4E8B\u4EF6ID\n   * @returns {Promise<boolean>} \u662F\u5426\u5B58\u5728\n   */\n  eventExists(eventId: string): Promise<boolean>;\n\n  /**\n   * @method getEventById\n   * @description \u6839\u636E\u4E8B\u4EF6ID\u83B7\u53D6\u4E8B\u4EF6\n   * @param {string} eventId \u4E8B\u4EF6ID\n   * @returns {Promise<DomainEvent | null>} \u4E8B\u4EF6\u6216null\n   */\n  getEventById(eventId: string): Promise<DomainEvent | null>;\n\n  /**\n   * @method archiveEvents\n   * @description \u5F52\u6863\u65E7\u4E8B\u4EF6\n   * @param {Date} beforeDate \u5F52\u6863\u6B64\u65E5\u671F\u4E4B\u524D\u7684\u4E8B\u4EF6\n   * @returns {Promise<number>} \u5F52\u6863\u7684\u4E8B\u4EF6\u6570\u91CF\n   */\n  archiveEvents(beforeDate: Date): Promise<number>;\n\n  /**\n   * @method getEventStatistics\n   * @description \u83B7\u53D6\u4E8B\u4EF6\u7EDF\u8BA1\u4FE1\u606F\n   * @param {Date} fromDate \u5F00\u59CB\u65E5\u671F\n   * @param {Date} toDate \u7ED3\u675F\u65E5\u671F\n   * @returns {Promise<EventStatistics>} \u7EDF\u8BA1\u4FE1\u606F\n   */\n  getEventStatistics(fromDate: Date, toDate: Date): Promise<EventStatistics>;\n}\n\n/**\n * @interface EventStatistics\n * @description \u4E8B\u4EF6\u7EDF\u8BA1\u4FE1\u606F\n */\nexport interface EventStatistics {\n  readonly totalEvents: number;\n  readonly eventsByType: Record<string, number>;\n  readonly eventsByTenant: Record<string, number>;\n  readonly eventsByUser: Record<string, number>;\n  readonly averageEventsPerDay: number;\n  readonly peakEventsPerHour: number;\n  readonly storageSize: number; // bytes\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "e3033052ec4bd68a6019af1888ab95ae341b3cd3"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_5fbdvedjn = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_5fbdvedjn();
cov_5fbdvedjn().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvYXJsaWdsZS9WMS9BaW9maXgvYWlvZml4LWFpLXNhYXMtcGxhdGZvcm0vcGFja2FnZXMvY29yZS9zcmMvZG9tYWluL2ludGVyZmFjZXMvZXZlbnQtc3RvcmUuaW50ZXJmYWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERvbWFpbkV2ZW50LCBFdmVudE1ldGFkYXRhIH0gZnJvbSAnLi4vZG9tYWluLWV2ZW50JztcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFN0b3JlZEV2ZW50XG4gKiBAZGVzY3JpcHRpb24g5a2Y5YKo55qE5LqL5Lu277yM5YyF5ZCr5LqL5Lu25pWw5o2u5ZKM5YWD5pWw5o2uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmVkRXZlbnQge1xuICByZWFkb25seSBldmVudElkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGFnZ3JlZ2F0ZUlkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGV2ZW50VHlwZTogc3RyaW5nO1xuICByZWFkb25seSBldmVudFZlcnNpb246IG51bWJlcjtcbiAgcmVhZG9ubHkgZXZlbnREYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgcmVhZG9ubHkgbWV0YWRhdGE6IEV2ZW50TWV0YWRhdGE7XG4gIHJlYWRvbmx5IG9jY3VycmVkT246IERhdGU7XG4gIHJlYWRvbmx5IHN0b3JlZEF0OiBEYXRlO1xuICByZWFkb25seSBzdHJlYW1WZXJzaW9uOiBudW1iZXI7IC8vIOS6i+S7tua1geeJiOacrOWPt1xufVxuXG4vKipcbiAqIEBpbnRlcmZhY2UgRXZlbnRTdHJlYW1cbiAqIEBkZXNjcmlwdGlvbiDkuovku7bmtYHvvIzljIXlkKvogZrlkIjmoLnnmoTmiYDmnInkuovku7ZcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFdmVudFN0cmVhbSB7XG4gIHJlYWRvbmx5IGFnZ3JlZ2F0ZUlkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGV2ZW50czogU3RvcmVkRXZlbnRbXTtcbiAgcmVhZG9ubHkgZnJvbVZlcnNpb246IG51bWJlcjtcbiAgcmVhZG9ubHkgdG9WZXJzaW9uOiBudW1iZXI7XG4gIHJlYWRvbmx5IGhhc01vcmU6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFN0b3JlUXVlcnlcbiAqIEBkZXNjcmlwdGlvbiDkuovku7blrZjlgqjmn6Xor6LmnaHku7ZcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFdmVudFN0b3JlUXVlcnkge1xuICByZWFkb25seSBhZ2dyZWdhdGVJZD86IHN0cmluZztcbiAgcmVhZG9ubHkgZXZlbnRUeXBlPzogc3RyaW5nO1xuICByZWFkb25seSBmcm9tRGF0ZT86IERhdGU7XG4gIHJlYWRvbmx5IHRvRGF0ZT86IERhdGU7XG4gIHJlYWRvbmx5IGZyb21WZXJzaW9uPzogbnVtYmVyO1xuICByZWFkb25seSB0b1ZlcnNpb24/OiBudW1iZXI7XG4gIHJlYWRvbmx5IGxpbWl0PzogbnVtYmVyO1xuICByZWFkb25seSBvZmZzZXQ/OiBudW1iZXI7XG4gIHJlYWRvbmx5IHRlbmFudElkPzogc3RyaW5nO1xuICByZWFkb25seSB1c2VySWQ/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFN0b3JlUmVzdWx0XG4gKiBAZGVzY3JpcHRpb24g5LqL5Lu25a2Y5YKo5p+l6K+i57uT5p6cXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRTdG9yZVJlc3VsdCB7XG4gIHJlYWRvbmx5IGV2ZW50czogU3RvcmVkRXZlbnRbXTtcbiAgcmVhZG9ubHkgdG90YWxDb3VudDogbnVtYmVyO1xuICByZWFkb25seSBoYXNNb3JlOiBib29sZWFuO1xuICByZWFkb25seSBuZXh0T2Zmc2V0PzogbnVtYmVyO1xufVxuXG4vKipcbiAqIEBpbnRlcmZhY2UgSUFnZ3JlZ2F0ZVNuYXBzaG90XG4gKiBAZGVzY3JpcHRpb24g6IGa5ZCI5qC55b+r54Wn5o6l5Y+jXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUFnZ3JlZ2F0ZVNuYXBzaG90IHtcbiAgcmVhZG9ubHkgYWdncmVnYXRlSWQ6IHN0cmluZztcbiAgcmVhZG9ubHkgYWdncmVnYXRlVHlwZTogc3RyaW5nO1xuICByZWFkb25seSB2ZXJzaW9uOiBudW1iZXI7XG4gIHJlYWRvbmx5IGRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICByZWFkb25seSBjcmVhdGVkQXQ6IERhdGU7XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBJRXZlbnRTdG9yZVxuICogQGRlc2NyaXB0aW9uXG4gKiDkuovku7blrZjlgqjmjqXlj6PvvIzotJ/otKPnrqHnkIbpoobln5/kuovku7bnmoTmjIHkuYXljJbjgIHmo4DntKLlkozph43mlL7lip/og73jgIJcbiAqXG4gKiDkuovku7blrZjlgqjogYzotKPvvJpcbiAqIDEuIOaMgeS5heWMlumihuWfn+S6i+S7tuWIsOS6i+S7tuWtmOWCqOaVsOaNruW6k1xuICogMi4g5pSv5oyB5LqL5Lu255qE54mI5pys5o6n5Yi25ZKM5bm25Y+R5o6n5Yi2XG4gKiAzLiDmj5Dkvpvkuovku7bmn6Xor6Llkozov4fmu6Tlip/og71cbiAqIDQuIOaUr+aMgeS6i+S7tumHjeaUvuWSjOW/q+eFp+acuuWItlxuICpcbiAqIOS6i+S7tua6r+a6kOeJueaAp++8mlxuICogMS4g5omA5pyJ54q25oCB5Y+Y5pu06YO96YCa6L+H5LqL5Lu26K6w5b2VXG4gKiAyLiDmlK/mjIHml7bpl7Tml4XooYzlkoznirbmgIHph43lu7pcbiAqIDMuIOaPkOS+m+WujOaVtOeahOWuoeiuoeaXpeW/l1xuICogNC4g5pSv5oyB5LqL5Lu254mI5pys566h55CG5ZKM6L+B56e7XG4gKlxuICog5aSa56ef5oi35pSv5oyB77yaXG4gKiAxLiDln7rkuo7np5/miLdJROi/m+ihjOS6i+S7tumalOemu1xuICogMi4g5pSv5oyB56ef5oi357qn55qE5LqL5Lu25p+l6K+iXG4gKiAzLiDnoa7kv53ot6jnp5/miLfmlbDmja7lronlhahcbiAqIDQuIOaUr+aMgeenn+aIt+e6p+eahOS6i+S7tuW9kuaho1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBldmVudFN0b3JlID0gbmV3IEV2ZW50U3RvcmUoZXZlbnRSZXBvc2l0b3J5LCBzbmFwc2hvdFJlcG9zaXRvcnkpO1xuICogYXdhaXQgZXZlbnRTdG9yZS5zYXZlRXZlbnRzKGFnZ3JlZ2F0ZUlkLCBldmVudHMpO1xuICogY29uc3QgZXZlbnRzID0gYXdhaXQgZXZlbnRTdG9yZS5nZXRFdmVudHMoYWdncmVnYXRlSWQsIGZyb21WZXJzaW9uKTtcbiAqIGBgYFxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUV2ZW50U3RvcmUge1xuICAvKipcbiAgICogQG1ldGhvZCBzYXZlRXZlbnRzXG4gICAqIEBkZXNjcmlwdGlvbiDkv53lrZjogZrlkIjmoLnnmoTkuovku7bliLDkuovku7blrZjlgqhcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFnZ3JlZ2F0ZUlkIOiBmuWQiOaguUlEXG4gICAqIEBwYXJhbSB7RG9tYWluRXZlbnRbXX0gZXZlbnRzIOmihuWfn+S6i+S7tuWIl+ihqFxuICAgKiBAcGFyYW0ge251bWJlcn0gZXhwZWN0ZWRWZXJzaW9uIOacn+acm+eahOeJiOacrOWPt++8jOeUqOS6juS5kOinguW5tuWPkeaOp+WItlxuICAgKiBAcGFyYW0ge0V2ZW50TWV0YWRhdGF9IFttZXRhZGF0YV0g5LqL5Lu25YWD5pWw5o2u77yM5Y+v6YCJXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKiBAdGhyb3dzIHtDb25jdXJyZW5jeUVycm9yfSDlvZPniYjmnKzlhrLnqoHml7bmipvlh7pcbiAgICogQHRocm93cyB7VmFsaWRhdGlvbkVycm9yfSDlvZPkuovku7bml6DmlYjml7bmipvlh7pcbiAgICpcbiAgICog5L+d5a2Y5rWB56iL77yaXG4gICAqIDEuIOmqjOivgeS6i+S7tueahOacieaViOaAp+WSjOWujOaVtOaAp1xuICAgKiAyLiDmo4Dmn6XogZrlkIjmoLnniYjmnKzkuIDoh7TmgKdcbiAgICogMy4g5bqU55So56ef5oi357qn5pWw5o2u6ZqU56a7XG4gICAqIDQuIOaMgeS5heWMluS6i+S7tuWIsOWtmOWCqFxuICAgKiA1LiDmm7TmlrDogZrlkIjmoLnniYjmnKzlj7dcbiAgICovXG4gIHNhdmVFdmVudHMoXG4gICAgYWdncmVnYXRlSWQ6IHN0cmluZyxcbiAgICBldmVudHM6IERvbWFpbkV2ZW50W10sXG4gICAgZXhwZWN0ZWRWZXJzaW9uOiBudW1iZXIsXG4gICAgbWV0YWRhdGE/OiBFdmVudE1ldGFkYXRhLFxuICApOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGdldEV2ZW50c1xuICAgKiBAZGVzY3JpcHRpb24g6I635Y+W6IGa5ZCI5qC555qE5LqL5Lu25Y6G5Y+yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhZ2dyZWdhdGVJZCDogZrlkIjmoLlJRFxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVZlcnNpb24g6LW35aeL54mI5pys5Y+3XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ZlcnNpb24g57uT5p2f54mI5pys5Y+377yM5Y+v6YCJXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPERvbWFpbkV2ZW50W10+fSDkuovku7bliJfooahcbiAgICovXG4gIGdldEV2ZW50cyhcbiAgICBhZ2dyZWdhdGVJZDogc3RyaW5nLFxuICAgIGZyb21WZXJzaW9uPzogbnVtYmVyLFxuICAgIHRvVmVyc2lvbj86IG51bWJlcixcbiAgKTogUHJvbWlzZTxEb21haW5FdmVudFtdPjtcblxuICAvKipcbiAgICogQG1ldGhvZCBnZXRFdmVudFN0cmVhbVxuICAgKiBAZGVzY3JpcHRpb24g6I635Y+W5LqL5Lu25rWBXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhZ2dyZWdhdGVJZCDogZrlkIjmoLlJRFxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVZlcnNpb24g6LW35aeL54mI5pys5Y+3XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCDpmZDliLbmlbDph49cbiAgICogQHJldHVybnMge1Byb21pc2U8RXZlbnRTdHJlYW0+fSDkuovku7bmtYFcbiAgICovXG4gIGdldEV2ZW50U3RyZWFtKFxuICAgIGFnZ3JlZ2F0ZUlkOiBzdHJpbmcsXG4gICAgZnJvbVZlcnNpb24/OiBudW1iZXIsXG4gICAgbGltaXQ/OiBudW1iZXIsXG4gICk6IFByb21pc2U8RXZlbnRTdHJlYW0+O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIHF1ZXJ5RXZlbnRzXG4gICAqIEBkZXNjcmlwdGlvbiDmn6Xor6Lkuovku7ZcbiAgICogQHBhcmFtIHtFdmVudFN0b3JlUXVlcnl9IHF1ZXJ5IOafpeivouadoeS7tlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxFdmVudFN0b3JlUmVzdWx0Pn0g5p+l6K+i57uT5p6cXG4gICAqL1xuICBxdWVyeUV2ZW50cyhxdWVyeTogRXZlbnRTdG9yZVF1ZXJ5KTogUHJvbWlzZTxFdmVudFN0b3JlUmVzdWx0PjtcblxuICAvKipcbiAgICogQG1ldGhvZCBnZXRFdmVudHNCeVR5cGVcbiAgICogQGRlc2NyaXB0aW9uIOagueaNruS6i+S7tuexu+Wei+iOt+WPluS6i+S7tlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIOS6i+S7tuexu+Wei1xuICAgKiBAcGFyYW0ge0RhdGV9IGZyb21EYXRlIOW8gOWni+aXpeacn1xuICAgKiBAcGFyYW0ge0RhdGV9IHRvRGF0ZSDnu5PmnZ/ml6XmnJ9cbiAgICogQHBhcmFtIHtudW1iZXJ9IGxpbWl0IOmZkOWItuaVsOmHj1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxEb21haW5FdmVudFtdPn0g5LqL5Lu25YiX6KGoXG4gICAqL1xuICBnZXRFdmVudHNCeVR5cGUoXG4gICAgZXZlbnRUeXBlOiBzdHJpbmcsXG4gICAgZnJvbURhdGU/OiBEYXRlLFxuICAgIHRvRGF0ZT86IERhdGUsXG4gICAgbGltaXQ/OiBudW1iZXIsXG4gICk6IFByb21pc2U8RG9tYWluRXZlbnRbXT47XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgY3JlYXRlU25hcHNob3RcbiAgICogQGRlc2NyaXB0aW9uIOS4uuiBmuWQiOagueWIm+W7uuW/q+eFp1xuICAgKiBAcGFyYW0ge3N0cmluZ30gYWdncmVnYXRlSWQg6IGa5ZCI5qC5SURcbiAgICogQHBhcmFtIHthbnl9IGFnZ3JlZ2F0ZVN0YXRlIOiBmuWQiOagueeKtuaAgVxuICAgKiBAcGFyYW0ge251bWJlcn0gdmVyc2lvbiDniYjmnKzlj7dcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBjcmVhdGVTbmFwc2hvdChcbiAgICBhZ2dyZWdhdGVJZDogc3RyaW5nLFxuICAgIGFnZ3JlZ2F0ZVN0YXRlOiBhbnksXG4gICAgdmVyc2lvbjogbnVtYmVyLFxuICApOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGdldFNuYXBzaG90XG4gICAqIEBkZXNjcmlwdGlvbiDojrflj5bogZrlkIjmoLnnmoTmnIDmlrDlv6vnhadcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFnZ3JlZ2F0ZUlkIOiBmuWQiOaguUlEXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPElBZ2dyZWdhdGVTbmFwc2hvdCB8IG51bGw+fSDlv6vnhafmiJZudWxsXG4gICAqL1xuICBnZXRTbmFwc2hvdChhZ2dyZWdhdGVJZDogc3RyaW5nKTogUHJvbWlzZTxJQWdncmVnYXRlU25hcHNob3QgfCBudWxsPjtcblxuICAvKipcbiAgICogQG1ldGhvZCBkZWxldGVTbmFwc2hvdFxuICAgKiBAZGVzY3JpcHRpb24g5Yig6Zmk6IGa5ZCI5qC555qE5b+r54WnXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhZ2dyZWdhdGVJZCDogZrlkIjmoLlJRFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGRlbGV0ZVNuYXBzaG90KGFnZ3JlZ2F0ZUlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGdldEFnZ3JlZ2F0ZVZlcnNpb25cbiAgICogQGRlc2NyaXB0aW9uIOiOt+WPluiBmuWQiOagueeahOW9k+WJjeeJiOacrOWPt1xuICAgKiBAcGFyYW0ge3N0cmluZ30gYWdncmVnYXRlSWQg6IGa5ZCI5qC5SURcbiAgICogQHJldHVybnMge1Byb21pc2U8bnVtYmVyPn0g54mI5pys5Y+3XG4gICAqL1xuICBnZXRBZ2dyZWdhdGVWZXJzaW9uKGFnZ3JlZ2F0ZUlkOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj47XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgZXZlbnRFeGlzdHNcbiAgICogQGRlc2NyaXB0aW9uIOajgOafpeS6i+S7tuaYr+WQpuWtmOWcqFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRJZCDkuovku7ZJRFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0g5piv5ZCm5a2Y5ZyoXG4gICAqL1xuICBldmVudEV4aXN0cyhldmVudElkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIGdldEV2ZW50QnlJZFxuICAgKiBAZGVzY3JpcHRpb24g5qC55o2u5LqL5Lu2SUTojrflj5bkuovku7ZcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50SWQg5LqL5Lu2SURcbiAgICogQHJldHVybnMge1Byb21pc2U8RG9tYWluRXZlbnQgfCBudWxsPn0g5LqL5Lu25oiWbnVsbFxuICAgKi9cbiAgZ2V0RXZlbnRCeUlkKGV2ZW50SWQ6IHN0cmluZyk6IFByb21pc2U8RG9tYWluRXZlbnQgfCBudWxsPjtcblxuICAvKipcbiAgICogQG1ldGhvZCBhcmNoaXZlRXZlbnRzXG4gICAqIEBkZXNjcmlwdGlvbiDlvZLmoaPml6fkuovku7ZcbiAgICogQHBhcmFtIHtEYXRlfSBiZWZvcmVEYXRlIOW9kuaho+atpOaXpeacn+S5i+WJjeeahOS6i+S7tlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxudW1iZXI+fSDlvZLmoaPnmoTkuovku7bmlbDph49cbiAgICovXG4gIGFyY2hpdmVFdmVudHMoYmVmb3JlRGF0ZTogRGF0ZSk6IFByb21pc2U8bnVtYmVyPjtcblxuICAvKipcbiAgICogQG1ldGhvZCBnZXRFdmVudFN0YXRpc3RpY3NcbiAgICogQGRlc2NyaXB0aW9uIOiOt+WPluS6i+S7tue7n+iuoeS/oeaBr1xuICAgKiBAcGFyYW0ge0RhdGV9IGZyb21EYXRlIOW8gOWni+aXpeacn1xuICAgKiBAcGFyYW0ge0RhdGV9IHRvRGF0ZSDnu5PmnZ/ml6XmnJ9cbiAgICogQHJldHVybnMge1Byb21pc2U8RXZlbnRTdGF0aXN0aWNzPn0g57uf6K6h5L+h5oGvXG4gICAqL1xuICBnZXRFdmVudFN0YXRpc3RpY3MoZnJvbURhdGU6IERhdGUsIHRvRGF0ZTogRGF0ZSk6IFByb21pc2U8RXZlbnRTdGF0aXN0aWNzPjtcbn1cblxuLyoqXG4gKiBAaW50ZXJmYWNlIEV2ZW50U3RhdGlzdGljc1xuICogQGRlc2NyaXB0aW9uIOS6i+S7tue7n+iuoeS/oeaBr1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50U3RhdGlzdGljcyB7XG4gIHJlYWRvbmx5IHRvdGFsRXZlbnRzOiBudW1iZXI7XG4gIHJlYWRvbmx5IGV2ZW50c0J5VHlwZTogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgcmVhZG9ubHkgZXZlbnRzQnlUZW5hbnQ6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG4gIHJlYWRvbmx5IGV2ZW50c0J5VXNlcjogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgcmVhZG9ubHkgYXZlcmFnZUV2ZW50c1BlckRheTogbnVtYmVyO1xuICByZWFkb25seSBwZWFrRXZlbnRzUGVySG91cjogbnVtYmVyO1xuICByZWFkb25seSBzdG9yYWdlU2l6ZTogbnVtYmVyOyAvLyBieXRlc1xufVxuIl0sIm1hcHBpbmdzIjoiIiwiaWdub3JlTGlzdCI6W119