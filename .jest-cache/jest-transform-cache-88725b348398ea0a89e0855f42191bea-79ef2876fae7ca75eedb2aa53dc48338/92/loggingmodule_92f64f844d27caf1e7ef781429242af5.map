{"version":3,"names":["cov_d1bm81yzp","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","common_1","require","event_emitter_1","nestjs_cls_1","pino_logger_service_1","pino_logger_config_service_1","pino_logger_factory_1","pino_logging_middleware_1","pino_logging_interceptor_1","LoggingModule","LoggingModule_1","register","options","config","middleware","interceptor","moduleConfig","module","imports","EventEmitterModule","forRoot","ClsModule","mount","setup","cls","req","set","headers","get","providers","provide","useValue","PinoLoggerConfigService","PinoLoggerService","PinoLoggerFactory","exports","push","PinoLoggingMiddleware","PinoLoggingInterceptor","forFeature","__decorate","Module"],"sources":["/home/arligle/V1/Aiofix/aiofix-ai-saas-platform/packages/logging/src/logging.module.ts"],"sourcesContent":["/**\n * @file logging.module.ts\n * @description 日志管理模块\n *\n * 该模块整合了所有日志相关的服务，包括：\n * - Pino日志服务\n * - 日志配置服务\n * - 日志传输器\n * - 日志格式化器\n * - 日志中间件\n * - 日志拦截器\n *\n * 遵循DDD和Clean Architecture原则，提供统一的日志管理功能。\n */\n\nimport { DynamicModule, Module } from '@nestjs/common';\nimport { EventEmitterModule } from '@nestjs/event-emitter';\nimport { ClsModule } from 'nestjs-cls';\nimport { PinoLoggerService } from './services/pino-logger.service';\nimport { PinoLoggerConfigService } from './services/pino-logger-config.service';\nimport { PinoLoggerFactory } from './factories/pino-logger.factory';\nimport { PinoLoggingMiddleware } from './middleware/pino-logging.middleware';\nimport { PinoLoggingInterceptor } from './interceptors/pino-logging.interceptor';\nimport { LogConfig } from './interfaces/logging.interface';\n\n/**\n * @interface LoggingModuleOptions\n * @description\n * 日志模块配置选项接口，用于自定义日志模块的行为。\n *\n * 主要配置项：\n * 1. config: 日志配置对象\n * 2. global: 是否注册为全局模块\n * 3. middleware: 是否自动注册中间件\n * 4. interceptor: 是否自动注册拦截器\n */\nexport interface LoggingModuleOptions {\n  /** 日志配置 */\n  config?: Partial<LogConfig>;\n  /** 是否注册为全局模块 */\n  global?: boolean;\n  /** 是否自动注册中间件 */\n  middleware?: boolean;\n  /** 是否自动注册拦截器 */\n  interceptor?: boolean;\n}\n\n/**\n * @class LoggingModule\n * @description\n * Aiofix IAM平台日志模块，提供高性能的日志服务。\n *\n * 主要功能：\n * 1. 提供PinoLoggerService日志服务\n * 2. 提供PinoLoggerConfigService配置服务\n * 3. 提供PinoLoggerFactory日志工厂\n * 4. 提供PinoLoggingMiddleware日志中间件\n * 5. 提供PinoLoggingInterceptor日志拦截器\n *\n * 使用示例：\n * ```typescript\n * import { LoggingModule } from '@aiofix/logging';\n *\n * @Module({\n *   imports: [\n *     LoggingModule.register({\n *       config: {\n *         level: 'info',\n *         format: 'json',\n *         colorize: false\n *       },\n *       global: true,\n *       middleware: true,\n *       interceptor: true\n *     })\n *   ]\n * })\n * export class AppModule {}\n * ```\n */\n@Module({})\nexport class LoggingModule {\n  /**\n   * @function register\n   * @description\n   * 注册日志模块，支持自定义配置。\n   *\n   * @param {LoggingModuleOptions} options - 模块配置选项\n   * @returns {DynamicModule} 动态模块配置\n   */\n  static register(options: LoggingModuleOptions = {}): DynamicModule {\n    const {\n      config = {},\n      global = false,\n      middleware = false,\n      interceptor = false,\n    } = options;\n\n    const moduleConfig: DynamicModule = {\n      module: LoggingModule,\n      imports: [\n        EventEmitterModule.forRoot(),\n        ClsModule.forRoot({\n          global: true,\n          middleware: {\n            mount: true,\n            setup: (cls, req) => {\n              // 设置请求上下文\n              cls.set(\n                'requestId',\n                req.headers['x-request-id'] || cls.get('requestId'),\n              );\n              cls.set(\n                'tenantId',\n                req.headers['x-tenant-id'] || cls.get('tenantId'),\n              );\n              cls.set('userId', req.headers['x-user-id'] || cls.get('userId'));\n              cls.set(\n                'sessionId',\n                req.headers['x-session-id'] || cls.get('sessionId'),\n              );\n            },\n          },\n        }),\n      ],\n      providers: [\n        {\n          provide: 'LOGGING_CONFIG',\n          useValue: config,\n        },\n        PinoLoggerConfigService,\n        PinoLoggerService,\n        PinoLoggerFactory,\n      ],\n      exports: [PinoLoggerService, PinoLoggerConfigService, PinoLoggerFactory],\n    };\n\n    // 根据配置添加中间件和拦截器\n    if (middleware) {\n      moduleConfig.providers!.push(PinoLoggingMiddleware);\n      moduleConfig.exports!.push(PinoLoggingMiddleware);\n    }\n\n    if (interceptor) {\n      moduleConfig.providers!.push(PinoLoggingInterceptor);\n      moduleConfig.exports!.push(PinoLoggingInterceptor);\n    }\n\n    // 设置为全局模块\n    if (global) {\n      moduleConfig.global = true;\n    }\n\n    return moduleConfig;\n  }\n\n  /**\n   * @function forRoot\n   * @description\n   * 注册日志模块的便捷方法，使用默认配置。\n   *\n   * @param {LoggingModuleOptions} options - 模块配置选项\n   * @returns {DynamicModule} 动态模块配置\n   */\n  static forRoot(options: LoggingModuleOptions = {}): DynamicModule {\n    return this.register({\n      global: true,\n      middleware: true,\n      interceptor: true,\n      ...options,\n    });\n  }\n\n  /**\n   * @function forFeature\n   * @description\n   * 注册日志模块的特性版本，不包含中间件和拦截器。\n   *\n   * @param {LoggingModuleOptions} options - 模块配置选项\n   * @returns {DynamicModule} 动态模块配置\n   */\n  static forFeature(options: LoggingModuleOptions = {}): DynamicModule {\n    return this.register({\n      global: false,\n      middleware: false,\n      interceptor: false,\n      ...options,\n    });\n  }\n}\n"],"mappings":";;AAAA;;;;;;;;;;;;;;AAAA;AAAA,SAAAA,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;I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","ignoreList":[]}