{"version":3,"names":["common_1","cov_q4h8f459m","s","require","pino_1","__importDefault","PinoLoggerFactory","f","Injectable","constructor","configService","createLogger","config","getConfig","pinoOptions","buildPinoOptions","default","createChildLogger","parentLogger","childOptions","child","rebuildLogger","existingLogger","b","flush","level","timestamp","stdTimeFunctions","isoTime","configureTransport","shouldUsePrettyFormat","transport","target","options","colorize","translateTime","ignore","filePath","configureFileTransport","remote","configureRemoteTransport","fileTransport","destination","Array","isArray","targets","push","remoteTransport","url","headers","Authorization","token","undefined","timeout","retries","__esDecorate","_classDescriptor","value","_classThis","_classDecorators","kind","name","metadata","_metadata","_classExtraInitializers","__runInitializers","exports"],"sources":["/home/arligle/V1/Aiofix/aiofix-ai-saas-platform/packages/logging/src/factories/pino-logger.factory.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\nimport pino from 'pino';\nimport { LogConfig } from '../interfaces/logging.interface';\nimport { PinoLoggerConfigService } from '../services/pino-logger-config.service';\n\n/**\n * @class PinoLoggerFactory\n * @description\n * Pino日志器工厂类，负责创建和配置Pino日志实例。\n *\n * 主要功能包括：\n * 1. 根据配置创建Pino实例\n * 2. 配置传输器和格式化器\n * 3. 处理不同环境的配置差异\n * 4. 提供日志器创建的统一接口\n *\n * 设计原则：\n * - 工厂模式：统一创建Pino实例\n * - 配置驱动：根据配置动态调整\n * - 环境适配：自动适配不同环境\n */\n@Injectable()\nexport class PinoLoggerFactory {\n  constructor(private readonly configService: PinoLoggerConfigService) {}\n\n  /**\n   * @method createLogger\n   * @description 创建Pino日志器实例\n   * @returns {pino.Logger} Pino日志器实例\n   */\n  createLogger(): pino.Logger {\n    const config = this.configService.getConfig();\n    const pinoOptions = this.buildPinoOptions(config);\n    return pino(pinoOptions);\n  }\n\n  /**\n   * @method createChildLogger\n   * @description 创建子日志器\n   * @param {pino.Logger} parentLogger 父日志器\n   * @param {Record<string, any>} childOptions 子日志器选项\n   * @returns {pino.Logger} 子日志器实例\n   */\n  createChildLogger(\n    parentLogger: pino.Logger,\n    childOptions: Record<string, any>,\n  ): pino.Logger {\n    return parentLogger.child(childOptions);\n  }\n\n  /**\n   * @method rebuildLogger\n   * @description 重新构建日志器（用于配置更新后）\n   * @param {pino.Logger} existingLogger 现有日志器\n   * @returns {pino.Logger} 新的日志器实例\n   */\n  rebuildLogger(existingLogger?: pino.Logger): pino.Logger {\n    // 如果存在现有日志器，先关闭它\n    if (existingLogger && existingLogger.flush) {\n      existingLogger.flush();\n    }\n\n    return this.createLogger();\n  }\n\n  /**\n   * @private\n   * @method buildPinoOptions\n   * @description 构建Pino配置选项\n   * @param {LogConfig} config 日志配置\n   * @returns {pino.LoggerOptions} Pino配置选项\n   */\n  private buildPinoOptions(config: LogConfig): pino.LoggerOptions {\n    const pinoOptions: pino.LoggerOptions = {\n      level: config.level,\n      timestamp: config.timestamp ? pino.stdTimeFunctions.isoTime : false,\n    };\n\n    // 配置传输器\n    this.configureTransport(pinoOptions, config);\n\n    return pinoOptions;\n  }\n\n  /**\n   * @private\n   * @method configureTransport\n   * @description 配置传输器\n   * @param {pino.LoggerOptions} pinoOptions Pino配置选项\n   * @param {LogConfig} config 日志配置\n   */\n  private configureTransport(\n    pinoOptions: pino.LoggerOptions,\n    config: LogConfig,\n  ): void {\n    // 在开发环境中使用pino-pretty进行格式化\n    if (this.configService.shouldUsePrettyFormat()) {\n      pinoOptions.transport = {\n        target: 'pino-pretty',\n        options: {\n          colorize: config.colorize,\n          translateTime: 'SYS:standard',\n          ignore: 'pid,hostname',\n        },\n      };\n    }\n\n    // 配置文件传输（如果指定了文件路径）\n    if (config.filePath) {\n      this.configureFileTransport(pinoOptions, config);\n    }\n\n    // 配置远程传输（如果启用了远程日志）\n    if (config.remote) {\n      this.configureRemoteTransport(pinoOptions, config);\n    }\n  }\n\n  /**\n   * @private\n   * @method configureFileTransport\n   * @description 配置文件传输\n   * @param {pino.LoggerOptions} pinoOptions Pino配置选项\n   * @param {LogConfig} config 日志配置\n   */\n  private configureFileTransport(\n    pinoOptions: pino.LoggerOptions,\n    config: LogConfig,\n  ): void {\n    if (!config.filePath) return;\n\n    const fileTransport = {\n      target: 'pino/file',\n      level: config.level,\n      options: {\n        destination: config.filePath,\n      },\n    };\n\n    // 如果已经有transport配置，使用targets数组\n    if (pinoOptions.transport) {\n      if (Array.isArray((pinoOptions.transport as any).targets)) {\n        (pinoOptions.transport as any).targets.push(fileTransport);\n      } else {\n        pinoOptions.transport = {\n          targets: [pinoOptions.transport, fileTransport],\n        } as any;\n      }\n    } else {\n      pinoOptions.transport = fileTransport;\n    }\n  }\n\n  /**\n   * @private\n   * @method configureRemoteTransport\n   * @description 配置远程传输\n   * @param {pino.LoggerOptions} pinoOptions Pino配置选项\n   * @param {LogConfig} config 日志配置\n   */\n  private configureRemoteTransport(\n    pinoOptions: pino.LoggerOptions,\n    config: LogConfig,\n  ): void {\n    if (!config.remote) return;\n\n    const remoteTransport = {\n      target: 'pino-http-send',\n      level: config.level,\n      options: {\n        destination: config.remote.url,\n        headers: {\n          Authorization: config.remote.token\n            ? `Bearer ${config.remote.token}`\n            : undefined,\n          'Content-Type': 'application/json',\n        },\n        timeout: config.remote.timeout,\n        retries: config.remote.retries,\n      },\n    };\n\n    // 如果已经有transport配置，使用targets数组\n    if (pinoOptions.transport) {\n      if (Array.isArray((pinoOptions.transport as any).targets)) {\n        (pinoOptions.transport as any).targets.push(remoteTransport);\n      } else {\n        pinoOptions.transport = {\n          targets: [pinoOptions.transport, remoteTransport],\n        } as any;\n      }\n    } else {\n      pinoOptions.transport = remoteTransport;\n    }\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}