# 配置文件组织说明

## 概述

本文档说明了项目中AI开发配置文件的组织结构和层次关系，确保配置管理的清晰性和一致性。

## 配置文件层次结构

```
aiofix-saas-platform/
├── .ai-config.md                    # 项目级AI配置文件（通用）
├── .cursor/                         # Cursor IDE特定配置目录
│   ├── rules/                       # Cursor规则文件
│   │   ├── project-config.mdc       # Cursor项目配置规则
│   │   ├── ai-development-prompts.mdc
│   │   └── ai-prompts-quick-reference.mdc
│   └── mcp.json                     # Cursor MCP配置
└── docs/                            # 项目文档
    ├── business-requirements.md     # 业务需求文档
    ├── development-plan.md          # 开发计划
    └── technical-design/            # 技术设计文档
```

## 配置文件说明

### 1. 项目级配置文件

#### `.ai-config.md`

- **位置**：项目根目录
- **用途**：项目级AI开发配置，适用于所有AI工具
- **内容**：
  - 项目概述和技术栈
  - 开发原则和项目结构
  - 核心概念说明
  - AI开发提示词模板
  - 常用命令和注意事项
- **适用范围**：Claude、ChatGPT、Copilot、Cursor等所有AI工具

### 2. Cursor IDE特定配置

#### `.cursor/rules/project-config.mdc`

- **位置**：`.cursor/rules/`目录
- **用途**：Cursor IDE特定的项目配置规则
- **内容**：
  - 引用项目级配置文件
  - Cursor特定的开发环境设置
  - Cursor特定的文件组织规则
  - Cursor特定的代码质量规则
- **适用范围**：仅限Cursor IDE

#### `.cursor/rules/ai-development-prompts.mdc`

- **位置**：`.cursor/rules/`目录
- **用途**：Cursor IDE特定的AI开发提示词
- **内容**：详细的AI开发提示词系统
- **适用范围**：仅限Cursor IDE

#### `.cursor/rules/ai-prompts-quick-reference.mdc`

- **位置**：`.cursor/rules/`目录
- **用途**：Cursor IDE特定的AI开发提示词快速参考
- **内容**：快速参考提示词
- **适用范围**：仅限Cursor IDE

## 配置层次关系

### 配置优先级

1. **项目级配置**（`.ai-config.md`）：最高优先级，适用于所有工具
2. **IDE特定配置**（`.cursor/rules/`）：中等优先级，仅适用于特定IDE
3. **模块级配置**：最低优先级，适用于特定模块

### 配置继承关系

```
项目级配置 (.ai-config.md)
    ↓ 继承和扩展
IDE特定配置 (.cursor/rules/)
    ↓ 继承和扩展
模块级配置 (各模块内部)
```

## 使用指南

### 对于开发者

#### 使用任何AI工具时

1. 首先阅读 `.ai-config.md` 了解项目配置
2. 根据使用的工具，参考相应的特定配置
3. 遵循项目级配置中的开发原则

#### 使用Cursor IDE时

1. 阅读 `.ai-config.md` 了解项目级配置
2. 参考 `.cursor/rules/project-config.mdc` 了解Cursor特定配置
3. 使用 `.cursor/rules/` 中的提示词进行开发

### 对于AI助手

#### 通用AI助手

- 主要参考 `.ai-config.md` 中的配置信息
- 遵循项目级配置中的开发原则和架构规范

#### Cursor AI助手

- 参考 `.cursor/rules/project-config.mdc` 中的Cursor特定配置
- 使用 `.cursor/rules/` 中的提示词进行开发
- 同时遵循项目级配置中的通用原则

## 配置管理原则

### 1. 单一数据源原则

- 项目级配置是主要数据源
- IDE特定配置引用和扩展项目级配置
- 避免配置信息重复和冲突

### 2. 层次化原则

- 通用配置放在项目级
- 特定配置放在相应层级
- 保持配置层次清晰

### 3. 一致性原则

- 所有配置文件保持信息一致
- 更新配置时同步更新相关文件
- 维护配置的版本控制

### 4. 可维护性原则

- 配置文件结构清晰
- 配置内容易于理解和修改
- 支持配置的版本管理

## 配置更新流程

### 1. 项目级配置更新

1. 修改 `.ai-config.md`
2. 检查是否需要更新IDE特定配置
3. 更新相关文档
4. 提交版本控制

### 2. IDE特定配置更新

1. 修改相应的 `.cursor/rules/` 文件
2. 确保与项目级配置保持一致
3. 更新相关文档
4. 提交版本控制

### 3. 配置同步检查

1. 定期检查配置一致性
2. 确保所有配置文件信息同步
3. 修复配置冲突和不一致

## 最佳实践

### 1. 配置编写

- 使用清晰的结构和格式
- 提供详细的说明和示例
- 保持配置的可读性

### 2. 配置维护

- 定期审查和更新配置
- 保持配置的时效性
- 记录配置变更历史

### 3. 配置使用

- 遵循配置层次关系
- 优先使用项目级配置
- 合理使用IDE特定配置

## 故障排除

### 常见问题

#### 1. 配置冲突

- **问题**：不同层级配置信息不一致
- **解决**：检查配置层次关系，确保项目级配置优先

#### 2. 配置缺失

- **问题**：某些工具无法找到配置信息
- **解决**：检查配置文件位置和引用路径

#### 3. 配置过时

- **问题**：配置信息与实际项目不符
- **解决**：定期更新配置，保持同步

### 调试步骤

1. 检查配置文件是否存在
2. 验证配置文件格式是否正确
3. 确认配置引用路径是否正确
4. 检查配置层次关系是否合理

## 总结

通过合理的配置文件组织，我们实现了：

1. **清晰的配置层次**：项目级配置和IDE特定配置分离
2. **灵活的配置管理**：支持不同工具和IDE的需求
3. **一致的配置信息**：避免配置冲突和不一致
4. **可维护的配置结构**：便于配置的更新和维护

这种配置组织方式确保了项目配置的清晰性、一致性和可维护性，为AI开发提供了良好的支持。

---

**文档版本**：1.0  
**创建日期**：2024-01-01  
**维护者**：项目开发团队
