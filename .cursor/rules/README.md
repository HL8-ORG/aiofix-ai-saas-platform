# Cursor AI 开发引导系统

## 概述

本目录包含了为Cursor IDE设计的AI开发引导系统，旨在确保AI在开发过程中能够主动查阅技术设计文档，严格按照既定架构进行开发。

## 文件结构

### 核心规则文件

1. **`project-config.mdc`** - 项目配置规则
   - 项目基本配置和开发原则
   - 快速开始指南
   - 项目初始化提示词
   - 架构遵循原则

2. **`technical-design-guide-for-ai.mdc`** - 技术设计方案查阅指南
   - 详细的开发环节查阅指南
   - 6个主要开发场景的查阅规范
   - AI查阅行为规范
   - 开发提示词模板

3. **`quick-reference.mdc`** - 快速查阅指南
   - 开发任务与文档的快速对照表
   - 常用提示词模板
   - 文档路径速查

4. **`code-annotation-specification.mdc`** - 代码注释规范
   - TSDoc注释规范
   - 27个架构组件的注释示例
   - 事件驱动架构注释要求

5. **`01rule.mdc`** - 终端命令执行规则
   - 工作目录管理规则
   - 命令执行上下文规范

## 使用方式

### 1. 项目初始化

当AI开始参与项目开发时，应该：

1. 首先阅读 `project-config.mdc` 了解项目基本配置
2. 阅读 `technical-design-guide-for-ai.mdc` 了解查阅规范
3. 参考 `quick-reference.mdc` 快速定位需要查阅的文档

### 2. 开发任务执行

在执行具体开发任务时：

1. 根据任务类型查阅 `quick-reference.mdc` 确定需要阅读的设计文档
2. 按照 `technical-design-guide-for-ai.mdc` 的规范查阅相关文档
3. 严格按照设计文档实现功能
4. 使用 `code-annotation-specification.mdc` 的规范编写注释

### 3. 质量保证

- 确保实现与设计文档完全一致
- 使用完整的TSDoc注释
- 进行代码linter检查
- 保持代码与文档的同步

## 核心特性

### 1. 主动查阅机制

- AI能够根据开发任务主动识别需要查阅的文档
- 提供明确的查阅优先级和重点
- 确保设计先行的开发原则

### 2. 场景化指导

- 针对6个主要开发场景提供专门的查阅指南
- 每个场景都有明确的必读文档和查阅重点
- 提供标准化的提示词模板

### 3. 快速定位

- 提供开发任务与文档的快速对照表
- 常用提示词模板便于快速使用
- 文档路径速查表

### 4. 质量保证

- 设计一致性检查机制
- 文档同步更新要求
- 架构合规性验证

## 开发场景覆盖

### 1. 事件驱动架构基础设施开发

- 消息队列服务（Redis + Bull）
- 事件总线服务
- 异步事件处理器

### 2. 通知模块开发

- 站内信子领域
- 邮件通知子领域
- 推送通知子领域
- 短信通知子领域
- 通知编排子领域

### 3. 领域模型开发

- 聚合根设计
- 值对象设计
- 领域事件设计

### 4. 应用层开发

- CQRS模式实现
- 命令和查询分离
- 事件发布机制

### 5. 基础设施层开发

- 仓储模式实现
- 数据库设计
- 外部服务集成

### 6. 接口层开发

- RESTful API设计
- DTO设计
- 权限控制

## 技术设计文档覆盖

- **架构概览**：`01-architecture-overview.md`
- **分层架构**：`02-layered-architecture.md`
- **领域层设计**：`03-domain-layer.md`
- **应用层设计**：`05-application-layer.md`
- **基础设施层设计**：`06-infrastructure.md`
- **事件驱动架构设计**：`07-event-sourcing.md`
- **通知模块设计**：`notification-design.md`

## 使用示例

### 示例1：开发事件处理器

```
用户请求：开发用户创建事件处理器

AI行为：
1. 查阅 quick-reference.mdc，确定需要阅读 07-event-sourcing.md 和 06-infrastructure.md
2. 按照 technical-design-guide-for-ai.mdc 的规范查阅相关文档
3. 了解异步事件处理器的设计模式
4. 严格按照设计文档实现功能
5. 使用 code-annotation-specification.mdc 的规范编写注释
```

### 示例2：开发通知功能

```
用户请求：开发站内信功能

AI行为：
1. 查阅 quick-reference.mdc，确定需要阅读 notification-design.md
2. 了解站内信子领域的设计
3. 查阅相关的应用层和基础设施层设计
4. 严格按照设计文档实现功能
5. 确保与事件驱动架构的集成
```

## 维护和更新

### 文档同步

- 当技术设计文档更新时，需要同步更新相关的查阅指南
- 保持快速查阅表的准确性
- 及时更新提示词模板

### 规则优化

- 根据实际使用情况优化查阅指南
- 增加新的开发场景覆盖
- 完善提示词模板

## 总结

本AI开发引导系统通过以下方式确保高质量的开发：

1. **设计先行**：强制AI在开发前查阅设计文档
2. **主动引导**：提供明确的查阅路径和重点
3. **场景覆盖**：覆盖所有主要开发场景
4. **质量保证**：确保实现与设计的一致性
5. **标准化**：提供标准化的提示词和注释规范

通过这套系统，AI能够更好地理解项目架构，实现高质量的代码，并保持与设计文档的一致性。

---

**文档版本**：1.0  
**创建日期**：2024-01-01  
**维护者**：项目开发团队
